{"version":3,"sources":["common/atomic.ts","utils/math.ts","context/app/appReducer.ts","containers/D3CorrelationChart.tsx","common/types.ts","context/app/appContext.tsx","containers/CorrelationChart.tsx","containers/Credit.tsx","common/Table.tsx","utils/helper.ts","utils/liquidityMath.ts","context/modal/modalReducer.ts","containers/EstimatedFees.tsx","common/buttons.ts","repos/coingecko.ts","context/modal/modalContext.tsx","containers/Header.tsx","containers/Navbar.tsx","containers/D3LiquidityHistogram.tsx","containers/LiquidityPositionChart.tsx","repos/uniswap.ts","containers/select-pair/SearchTokenPage.tsx","containers/select-pair/SelectPairModal.tsx","containers/setting/DepositAmounts.tsx","containers/setting/Slider.tsx","containers/setting/PriceRange.tsx","containers/setting/Setting.tsx","context/ContextProvider.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Heading","styled","h3","Br","div","input","bn","config","EXPONENTIAL_AT","DECIMAL_PLACES","encodePriceSqrt","price","sqrt","multipliedBy","pow","integerValue","expandDecimals","n","exp","AppActionType","calculateAvg","data","reduce","result","val","length","findMax","max","findMin","min","Number","MAX_SAFE_INTEGER","divideArray","data0","data1","forEach","d","i","isNaN","D3CorrelationChart","containerEl","props","svg","x","y","xAxis","yAxis","mostActivePrice","minPrice","maxPrice","this","xData","map","yData","d3","append","attr","width","height","createLinearGradient","r","g","b","domain","range","call","margin","datum","y0","y1","handleMouseMove","renderMostActivePriceAssumption","renderMinMaxPriceRange","minRange","maxRange","minPriceSVG","maxPriceSVG","remove","bisect","left","focus","style","focusText","verticalLine","on","e","coords","x0","invert","selectedData","self","html","toFixed","getComputedTextLength","id","lg","NETWORKS","name","desc","logoURI","subgraphEndpoint","disabled","appReducer","state","action","type","UPDATE_DEPOSIT_AMOUNT","depositAmountValue","payload","UPDATE_PRICE_RANGE","priceRangeValue","UPDATE_PRICE_ASSUMPTION_VALUE","priceAssumptionValue","UPDATE_OUT_OF_RANGE_PERCENTAGE","outOfRangePercentageValue","RESET_TOKEN_LIST","tokenList","RESET_PAIR","network","pool","poolTicks","token0","token1","token0PriceChart","token1PriceChart","volume24H","isSwap","SWAP_CURRENT_PAIR","token0Price","token1Price","initialState","AppContext","React","createContext","undefined","AppContextProvider","children","useReducer","value","dispatch","Provider","useAppContext","context","useContext","Error","Container","Padding","Tag","Stat","StatItem","WrappedHeader","d3Chart","CorrelationChart","useState","setData","refElement","useRef","useEffect","points","Math","prices","push","timestamp","processData","current","offsetWidth","destroy","updateMostActivePriceAssumption","updateMinMaxPriceRange","symbol","ref","CreditContainer","Credit","target","href","icon","faHeart","Table","getTokenLogoURL","address","imageURL","TokenImageURI","sortToken","ModalActionType","Q96","mulDiv","a","multiplier","getTickFromPrice","token0Decimal","token1Decimal","sqrtPrice","log","toNumber","getPriceFromTick","tick","L2","getTokenAmountsFromDepositAmounts","P","Pl","Pu","priceUSDX","priceUSDY","targetAmounts","deltaL","deltaY","deltaX","amount0","amount1","getLiquidityForAmount0","sqrtRatioAX96","sqrtRatioBX96","intermediate","minus","getLiquidityForAmount1","getSqrtPriceX96","SettingContainer","Fee","span","EstimatedFees","currentPriceUSD","sqrtRatioX96","_amount0","amount0Decimal","_amount1","amount1Decimal","liquidity","lte","lt","liquidity0","liquidity1","getLiquidityForAmounts","decimals","currentTick","fee","liquidityDelta","_feeTier","tier","plus","calculateFee","ticks","liquidityNet","lowerTick","tickIdx","upperTick","calculateLiquidity","feeTier","className","ButtonStyle","button","Button","DangerButton","PrimaryButton","PrimaryBlockButton","QueryPeriodEnum","modalContextReducer","SET_SELECT_PAIR_MODAL_STATE","isSelectPairModalOpen","SET_DONATE_MODAL_STATE","isDonateModalOpen","ModalContext","ModalContextProvider","useModalContext","HeaderContainer","FeePercentage","PairToken","Header","appContext","modalContext","src","alt","rel","aria-label","faExternalLinkAlt","marginRight","onClick","NavbarContainer","Logo","h1","Menubar","Navbar","faTwitter","faGithub","faEnvelope","D3LiquidityHistogram","minTick","maxTick","token0Symbol","token1Symbol","selectAll","enter","x1","renderCurrentTick","renderMinMaxTickRange","minTickSVG","maxTickSVG","focusTextToken0","focusTextToken1","LiquidityPositionChart","bins","currentPrice","minimumTick","maximumTick","_ticks","sort","avg","filter","calculateInitialMinMaxTick","_p","p","_min","_max","updateCurrentTick","updateMinMaxTickRange","queryUniswap","query","axios","url","method","getVolumn24H","poolAddress","poolDayDatas","volumeUSD","curr","getPoolTicks","_getTokenList","page","res","tokens","getTokenList","token","getPoolFromPair","sortedTokens","pools","SearchInput","Divider","Scrollable","LoadingContainer","TokenItem","SearchTokenPage","selectToken","filteredTokens","setFilteredTokens","isLoading","setIsLoading","timeoutId","setTimeoutId","slice","onChange","clearTimeout","trim","_timeoutId","setTimeout","fuse","Fuse","includeScore","keys","search","item","handleSearch","placeholder","color","getToken","contractAddress","tokenAddressMapping","getPriceChart","queryPeriod","ONE_MONTH","get","marketChartRes","currentPriceRes","tokenId","tokenName","usd","ModalStyle","overlay","backgroundColor","zIndex","content","border","padding","top","right","bottom","borderRadius","transform","background","SelectNetworkContainer","SelectPairContainer","TokenSelect","Tier","FeeTiersContainer","GoBack","NetworkItem","FEE_TIER_STYLES","cursor","SelectPairModal","selectedNetwork","setSelectedNetwork","selectedTokens","setSelectedTokens","showSelectNetworkPage","setShowSelectNetworkPage","showSelectTokenPage","setShowSelectTokenPage","selectedTokenIndex","setSelectedTokenIndex","setPools","selectedPool","setSelectedPool","isSubmitLoading","setIsSubmitLoading","fetchTokens","fetchPools","isFormDisabled","handleSubmit","maxPool","maxLiquidity","getFeeTier","find","getFeeTierPercentage","totalLiquidity","round","getFeeTierStyle","isOpen","contentLabel","faArrowLeft","opacity","newEndpoint","_selectedTokens","JSON","parse","stringify","faChevronDown","InputGroup","DepositInput","Token","DepositAmounts","StyledSlider","ReactSlider","StyledThumb","StyledTrack","Thumb","Track","Slider","renderTrack","renderThumb","step","thumbClassName","Group","Input","MinMaxPriceContainer","PriceRange","NaN","_","marginTop","Setting","ContextProvider","BodyContainer","ContentContainer","MobileNotSupportScreen","EnterSite","Unicorn","IconBar","App","screenWidth","useWindowWidth","isEnter","setIsEnter","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b10acb57.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const Heading = styled.h3`\n  color: white;\n  margin: 0;\n  font-size: 1rem;\n  margin-bottom: 12px;\n  font-weight: 500;\n`;\n\nexport const Br = styled.div`\n  height: 20px;\n`;\n\nconst Input = styled.input`\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  color: white;\n  font-weight: 400;\n  font-size: 1.2rem;\n  text-align: center;\n  margin-top: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import bn from \"bignumber.js\";\nbn.config({ EXPONENTIAL_AT: 999999, DECIMAL_PLACES: 40 });\n\nexport const encodePriceSqrt = (price: number | string | bn): bn => {\n  return new bn(price).sqrt().multipliedBy(new bn(2).pow(96)).integerValue(3);\n};\n\nexport function expandDecimals(n: number | string | bn, exp: number): bn {\n  return new bn(n).multipliedBy(new bn(10).pow(exp));\n}\n\nexport const calculateAvg = (data: number[]): number => {\n  return data.reduce((result, val) => result + val, 0) / data.length;\n};\n\nexport const findMax = (data: number[]): number => {\n  return data.reduce((max, val) => (max > val ? max : val), 0);\n};\n\nexport const findMin = (data: number[]): number => {\n  return data.reduce(\n    (min, val) => (min > val ? val : min),\n    Number.MAX_SAFE_INTEGER\n  );\n};\n\nexport const divideArray = (data0: number[], data1: number[]): number[] => {\n  const result: number[] = [];\n  data0.forEach((d, i) => {\n    result[i] = d / data1[i];\n    if (isNaN(result[i])) result[i] = result[i - 1];\n  });\n  return result;\n};\n","import { Network } from \"../../common/types\";\nimport { PriceChart } from \"../../repos/coingecko\";\nimport { Pool, Tick, V3Token } from \"../../repos/uniswap\";\nimport { AppContextState } from \"./appContext\";\n\nexport enum AppActionType {\n  RESET_TOKEN_LIST = \"RESET_TOKEN_LIST\",\n  RESET_PAIR = \"RESET_PAIR\",\n  SWAP_CURRENT_PAIR = \"SWAP_CURRENT_PAIR\",\n  UPDATE_OUT_OF_RANGE_PERCENTAGE = \"UPDATE_OUT_OF_RANGE_PERCENTAGE\",\n  UPDATE_PRICE_RANGE = \"UPDATE_PRICE_RANGE\",\n  UPDATE_DEPOSIT_AMOUNT = \"UPDATE_DEPOSIT_AMOUNT\",\n  UPDATE_PRICE_ASSUMPTION_VALUE = \"UPDATE_PRICE_ASSUMPTION_VALUE\",\n}\nexport type AppAction =\n  | {\n      type: AppActionType.RESET_TOKEN_LIST;\n      payload: {\n        tokenList: V3Token[];\n      };\n    }\n  | {\n      type: AppActionType.RESET_PAIR;\n      payload: {\n        network: Network;\n        pool: Pool;\n        poolTicks: Tick[];\n        token0: V3Token;\n        token1: V3Token;\n        token0PriceChart: PriceChart | null;\n        token1PriceChart: PriceChart | null;\n        volume24H: number;\n      };\n    }\n  | { type: AppActionType.SWAP_CURRENT_PAIR }\n  | { type: AppActionType.UPDATE_OUT_OF_RANGE_PERCENTAGE; payload: number }\n  | { type: AppActionType.UPDATE_PRICE_ASSUMPTION_VALUE; payload: number }\n  | { type: AppActionType.UPDATE_PRICE_RANGE; payload: number[] }\n  | { type: AppActionType.UPDATE_DEPOSIT_AMOUNT; payload: number };\n\nexport const appReducer = (\n  state: AppContextState,\n  action: AppAction\n): AppContextState => {\n  switch (action.type) {\n    case AppActionType.UPDATE_DEPOSIT_AMOUNT: {\n      return { ...state, depositAmountValue: action.payload };\n    }\n    case AppActionType.UPDATE_PRICE_RANGE: {\n      return { ...state, priceRangeValue: action.payload };\n    }\n    case AppActionType.UPDATE_PRICE_ASSUMPTION_VALUE: {\n      return { ...state, priceAssumptionValue: action.payload };\n    }\n    case AppActionType.UPDATE_OUT_OF_RANGE_PERCENTAGE: {\n      return { ...state, outOfRangePercentageValue: action.payload };\n    }\n    case AppActionType.RESET_TOKEN_LIST: {\n      return { ...state, tokenList: action.payload.tokenList };\n    }\n    case AppActionType.RESET_PAIR: {\n      const {\n        network,\n        pool,\n        poolTicks,\n        token0,\n        token1,\n        token0PriceChart,\n        token1PriceChart,\n        volume24H,\n      } = action.payload;\n\n      return {\n        ...state,\n        network,\n        pool,\n        poolTicks,\n        token0,\n        token1,\n        token0PriceChart,\n        token1PriceChart,\n        volume24H,\n        isSwap: false,\n      };\n    }\n    case AppActionType.SWAP_CURRENT_PAIR: {\n      const token0 = state.token1;\n      const token1 = state.token0;\n      const pool = {\n        ...state.pool,\n        token0Price: state.pool?.token1Price,\n        token1Price: state.pool?.token0Price,\n      } as Pool;\n      const token0PriceChart = state.token1PriceChart;\n      const token1PriceChart = state.token0PriceChart;\n\n      return {\n        ...state,\n        isSwap: !state.isSwap,\n        pool,\n        token0,\n        token1,\n        token0PriceChart,\n        token1PriceChart,\n      };\n    }\n  }\n};\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport { findMax, findMin } from \"../utils/math\";\n\nexport interface Point {\n  x: number;\n  y: number;\n}\ninterface RGB {\n  r: number;\n  g: number;\n  b: number;\n}\ninterface D3CorrelationChartProps {\n  width: number;\n  height: number;\n  data: Point[];\n  mostActivePrice: number;\n  minRange: number;\n  maxRange: number;\n}\nclass D3CorrelationChart {\n  containerEl;\n  props;\n  svg;\n  x;\n  y;\n  xAxis;\n  yAxis;\n  mostActivePrice;\n  minPrice;\n  maxPrice;\n  // brush;\n\n  constructor(containerEl: any, props: D3CorrelationChartProps) {\n    this.containerEl = containerEl;\n    this.props = props;\n\n    const xData = props.data.map((d) => d.x);\n    const yData = props.data.map((d) => d.y);\n    const data = props.data as any;\n\n    this.svg = d3\n      .select(containerEl)\n      .append(\"svg\")\n      .attr(\"width\", props.width)\n      .attr(\"height\", props.height);\n\n    this.createLinearGradient(\"blue-gradient\", { r: 38, g: 108, b: 221 });\n\n    // add x axis\n    const x = d3\n      .scaleTime()\n      .domain([findMin(xData), findMax(xData)])\n      .range([0, props.width]);\n    this.xAxis = this.svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + (props.height - 20) + \")\")\n      .attr(\"color\", \"#666\")\n      .call(d3.axisBottom(x));\n    this.x = x;\n\n    // add y axis\n    const min = findMin(yData);\n    const max = findMax(yData);\n    const margin = max - min;\n    const y = d3\n      .scaleLinear()\n      .domain([min - margin, max + margin / 1.5])\n      .range([props.height, 0]);\n    this.yAxis = this.svg\n      .append(\"g\")\n      .attr(\"color\", \"transparent\")\n      .call(d3.axisLeft(y));\n    this.y = y;\n\n    // render chart\n    this.svg\n      .append(\"path\")\n      .datum(data)\n      .attr(\"fill\", \"transparent\")\n      .attr(\"stroke\", \"rgb(38, 108, 221)\")\n      .attr(\"stroke-width\", 1.5)\n      .attr(\n        \"d\",\n        d3\n          .line()\n          .x(function (d: any) {\n            return x(d.x);\n          })\n          .y(function (d: any) {\n            return y(d.y);\n          })\n      );\n    this.svg\n      .append(\"path\")\n      .datum(data)\n      .attr(\"fill\", \"url(#blue-gradient)\")\n      .attr(\n        \"d\",\n        d3\n          .area()\n          .x(function (d: any) {\n            return x(d.x);\n          })\n          .y0(props.height)\n          .y1(function (d: any) {\n            return y(d.y);\n          })\n      );\n\n    this.handleMouseMove();\n    this.mostActivePrice = this.renderMostActivePriceAssumption(\n      props.mostActivePrice\n    );\n\n    const { minPriceSVG, maxPriceSVG } = this.renderMinMaxPriceRange(\n      props.minRange,\n      props.maxRange\n    );\n    this.minPrice = minPriceSVG;\n    this.maxPrice = maxPriceSVG;\n    // this.brush = this.initBrush(props.minRange, props.maxRange);\n    // let offsetY: number = 0;\n    // this.brush.call(\n    //   d3\n    //     .drag<SVGRectElement, unknown>()\n    //     .on(\"start\", (e: any) => {\n    //       offsetY = this.y(props.maxRange) - e.y;\n    //     })\n    //     .on(\"drag\", (e: any) => {\n    //       this.brush.attr(\"y\", e.y + offsetY);\n    //     })\n    // );\n  }\n\n  destroy() {\n    this.svg.remove();\n  }\n\n  // initBrush(minRange: number, maxRange: number) {\n  //   return this.svg\n  //     .append(\"g\")\n  //     .append(\"rect\")\n  //     .style(\"fill\", \"rgba(37, 175, 96, 0.3)\")\n  //     .style(\"cursor\", \"grab\")\n  //     .attr(\"x\", 0)\n  //     .attr(\"y\", this.y(maxRange))\n  //     .attr(\"width\", this.props.width)\n  //     .attr(\"height\", this.y(minRange) - this.y(maxRange));\n  // }\n\n  handleMouseMove() {\n    const bisect = d3.bisector(function (d: Point) {\n      return d.x;\n    }).left;\n    const focus = this.svg\n      .append(\"g\")\n      .append(\"circle\")\n      .style(\"fill\", \"rgba(255,255,255,0.15)\")\n      .attr(\"stroke\", \"white\")\n      .attr(\"r\", 5)\n      .style(\"opacity\", 0);\n    const focusText = this.svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"fill\", \"white\")\n      .attr(\"font-size\", \"0.6rem\")\n      .attr(\"alignment-baseline\", \"middle\");\n    const verticalLine = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1)\n      .style(\"stroke\", \"rgba(255,255,255,0.15)\");\n\n    const onMouseMove = (e: any) => {\n      let coords = d3.pointer(e);\n      const x0 = this.x.invert(coords[0]);\n      const i = bisect(this.props.data, x0, 1);\n      const selectedData = this.props.data[i];\n      verticalLine\n        .attr(\"x1\", this.x(selectedData.x))\n        .attr(\"y1\", 0)\n        .attr(\"x2\", this.x(selectedData.x))\n        .attr(\"y2\", this.props.height - 20);\n      focus\n        .attr(\"cx\", this.x(selectedData.x))\n        .attr(\"cy\", this.y(selectedData.y));\n\n      const self = this;\n      if (this.x(selectedData.x) > this.props.width * 0.8) {\n        focusText\n          .html(`Price: ${selectedData.y.toFixed(4)}`)\n          .attr(\"x\", function (d: any) {\n            return self.x(selectedData.x) - (this.getComputedTextLength() + 5);\n          })\n          .attr(\"text-anchor\", \"right\")\n          .attr(\"y\", 5);\n      } else {\n        focusText\n          .html(`Price: ${selectedData.y.toFixed(4)}`)\n          .attr(\"x\", this.x(selectedData.x) + 5)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"y\", 5);\n      }\n    };\n\n    this.svg\n      .append(\"rect\")\n      .style(\"fill\", \"none\")\n      .style(\"pointer-events\", \"all\")\n      .attr(\"width\", this.props.width)\n      .attr(\"height\", this.props.height)\n      .on(\"mouseover\", () => {\n        focus.style(\"opacity\", 1);\n        focusText.style(\"opacity\", 1);\n        verticalLine.style(\"opacity\", 1);\n      })\n      .on(\"mouseout\", () => {\n        focus.style(\"opacity\", 0);\n        focusText.style(\"opacity\", 0);\n        verticalLine.style(\"opacity\", 0);\n      })\n      .on(\"mousemove\", onMouseMove);\n  }\n\n  renderMostActivePriceAssumption(price: number) {\n    return this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgb(255, 112, 181)\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(price))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(price));\n  }\n  updateMostActivePriceAssumption(price: number) {\n    this.mostActivePrice\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(price))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(price));\n  }\n\n  renderMinMaxPriceRange(minPrice: number, maxPrice: number) {\n    const minPriceSVG = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgba(37, 175, 96, 1)\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(minPrice))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(minPrice));\n\n    const maxPriceSVG = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgba(37, 175, 96, 1)\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(maxPrice))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(maxPrice));\n\n    return { minPriceSVG, maxPriceSVG };\n  }\n  updateMinMaxPriceRange(minPrice: number, maxPrice: number) {\n    this.minPrice\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(minPrice))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(minPrice));\n\n    this.maxPrice\n      .attr(\"x1\", 0)\n      .attr(\"y1\", this.y(maxPrice))\n      .attr(\"x2\", this.props.width)\n      .attr(\"y2\", this.y(maxPrice));\n  }\n\n  createLinearGradient(id: string, { r, g, b }: RGB) {\n    const lg = this.svg\n      .append(\"defs\")\n      .append(\"linearGradient\")\n      .attr(\"id\", id)\n      .attr(\"x1\", \"0%\")\n      .attr(\"x2\", \"0%\")\n      .attr(\"y1\", \"0%\")\n      .attr(\"y2\", \"100%\");\n    lg.append(\"stop\")\n      .attr(\"offset\", \"0%\")\n      .style(\"stop-color\", `rgb(${r}, ${g}, ${b}, 1)`)\n      .style(\"stop-opacity\", 1);\n    lg.append(\"stop\")\n      .attr(\"offset\", \"10%\")\n      .style(\"stop-color\", `rgb(${r}, ${g}, ${b}, 0.5)`)\n      .style(\"stop-opacity\", 1);\n    lg.append(\"stop\")\n      .attr(\"offset\", \"25%\")\n      .style(\"stop-color\", `rgb(${r}, ${g}, ${b}, 0.3)`)\n      .style(\"stop-opacity\", 1);\n    lg.append(\"stop\")\n      .attr(\"offset\", \"50%\")\n      .style(\"stop-color\", `rgb(${r}, ${g}, ${b}, 0.15)`)\n      .style(\"stop-opacity\", 1);\n    lg.append(\"stop\")\n      .attr(\"offset\", \"100%\")\n      .style(\"stop-color\", `rgb(${r}, ${g}, ${b}, 0)`)\n      .style(\"stop-opacity\", 1);\n  }\n}\n\nexport default D3CorrelationChart;\n","export interface Network {\n  id: string;\n  name: string;\n  desc: string;\n  logoURI: string;\n  disabled?: boolean;\n  subgraphEndpoint: string;\n}\nexport const NETWORKS: Network[] = [\n  {\n    id: \"ethereum\",\n    name: \"Ethereum\",\n    desc: \"Ethereum Mainnet\",\n    logoURI:\n      \"https://seeklogo.com/images/E/ethereum-logo-EC6CDBA45B-seeklogo.com.png\",\n    subgraphEndpoint:\n      \"https://api.thegraph.com/subgraphs/name/uniswap/uniswap-v3\",\n  },\n  {\n    id: \"polygon\",\n    name: \"Polygon\",\n    desc: \"Polygon Mainnet\",\n    logoURI:\n      \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQgwyOAYn_Z1BalQYMfN8zVqwenavJVSO9SUZ1rz0ZerShW-5Ubzf6U96kLODC-ta2bVks&usqp=CAU\",\n    subgraphEndpoint:\n      \"https://api.thegraph.com/subgraphs/name/ianlapham/uniswap-v3-polygon\",\n  },\n  {\n    id: \"optimism\",\n    name: \"Optimism\",\n    desc: \"Optimism Mainnet (L2)\",\n    logoURI: \"https://optimistic.etherscan.io/images/brandassets/optimism.svg\",\n    subgraphEndpoint:\n      \"https://api.thegraph.com/subgraphs/name/ianlapham/optimism-post-regenesis\",\n  },\n  {\n    id: \"arbitrum\",\n    name: \"Arbitrum\",\n    desc: \"Arbitrum Mainnet (L2)\",\n    disabled: true,\n    logoURI:\n      \"https://assets.website-files.com/5f973c970bea5548ad4287ef/60a320b472858ace6700df76_arb-icon.svg\",\n    subgraphEndpoint:\n      \"https://api.thegraph.com/subgraphs/name/ianlapham/arbitrum-dev\",\n  },\n];\n","import React from \"react\";\nimport { Network, NETWORKS } from \"../../common/types\";\nimport { PriceChart } from \"../../repos/coingecko\";\nimport { Pool, Tick, V3Token } from \"../../repos/uniswap\";\nimport { AppAction, appReducer } from \"./appReducer\";\n\nexport interface AppContextState {\n  network: Network;\n  tokenList: V3Token[];\n  isSwap: boolean;\n\n  pool: Pool | null;\n  poolTicks: Tick[] | null;\n  token0: V3Token | null;\n  token1: V3Token | null;\n  token0PriceChart: PriceChart | null;\n  token1PriceChart: PriceChart | null;\n  volume24H: number;\n\n  depositAmountValue: number;\n  priceRangeValue: number[];\n  priceAssumptionValue: number;\n  outOfRangePercentageValue: number;\n}\nconst initialState: AppContextState = {\n  network: NETWORKS[0],\n  tokenList: [],\n  isSwap: false,\n\n  pool: null,\n  poolTicks: null,\n  token0: null,\n  token1: null,\n  token0PriceChart: null,\n  token1PriceChart: null,\n  volume24H: 0,\n\n  depositAmountValue: 1000,\n  priceRangeValue: [0, 0],\n  priceAssumptionValue: 0,\n  outOfRangePercentageValue: 0,\n};\n\ninterface AppContextProviderProps {\n  children: React.ReactNode;\n}\nconst AppContext = React.createContext<\n  { state: AppContextState; dispatch: (action: AppAction) => void } | undefined\n>(undefined);\n\nexport const AppContextProvider = ({ children }: AppContextProviderProps) => {\n  const [state, dispatch] = React.useReducer(appReducer, initialState);\n  const value = { state, dispatch };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n\nexport const useAppContext = () => {\n  const context = React.useContext(AppContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useApplicationContext must be used within a ApplicationContextProvider\"\n    );\n  }\n  return context;\n};\n","import React, { useEffect, useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Heading } from \"../common/atomic\";\nimport { PriceChart } from \"../repos/coingecko\";\nimport D3CorrelationChart, { Point } from \"./D3CorrelationChart\";\nimport { useAppContext } from \"../context/app/appContext\";\nimport { calculateAvg, findMax, findMin } from \"../utils/math\";\n\nconst Container = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n`;\nconst Padding = styled.div`\n  padding: 16px;\n`;\nconst Tag = styled.div`\n  display: inline-block;\n  color: rgba(255, 255, 255, 0.3);\n`;\nconst Stat = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 7px;\n`;\nconst StatItem = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 0.8rem;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 12px;\n  color: #999;\n  padding: 3px;\n\n  & > div {\n    padding: 3px 12px;\n    margin-right: 7px;\n    border-radius: 12px;\n    background: rgba(255, 255, 255, 0.05);\n  }\n`;\nconst WrappedHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  & > div {\n    transform: translateY(0);\n    display: flex;\n    align-items: center;\n    color: red;\n    font-size: 0.8rem;\n    color: #999;\n    height: 25px;\n    padding: 12px;\n    border-radius: 5rem;\n    background: rgba(255, 255, 255, 0.05);\n  }\n`;\n\nlet d3Chart: D3CorrelationChart | null = null;\nconst CorrelationChart = () => {\n  const { state } = useAppContext();\n  const [data, setData] = useState<Point[]>([]);\n  const refElement = useRef<HTMLDivElement>(null);\n\n  const processData = (\n    token0PriceChart: PriceChart | null,\n    token1PriceChart: PriceChart | null\n  ): Point[] => {\n    if (token0PriceChart === null || token1PriceChart === null) {\n      return [];\n    }\n\n    const points: Point[] = [];\n    const length = Math.min(\n      token0PriceChart.prices.length,\n      token1PriceChart.prices.length\n    );\n    for (let i = 0; i < length; ++i) {\n      points.push({\n        x: token0PriceChart.prices[i].timestamp,\n        y: token1PriceChart.prices[i].value / token0PriceChart.prices[i].value,\n      });\n    }\n\n    return points;\n  };\n\n  useEffect(() => {\n    if (!state.token0PriceChart || !state.token1PriceChart) return;\n\n    const data = processData(state.token0PriceChart, state.token1PriceChart);\n    setData(data);\n\n    let width = 500;\n    let height = 250;\n    if (refElement.current) {\n      width = refElement.current.offsetWidth;\n    }\n\n    if (d3Chart) d3Chart.destroy();\n\n    d3Chart = new D3CorrelationChart(refElement.current, {\n      data,\n      width,\n      height,\n      minRange: state.priceRangeValue[0],\n      maxRange: state.priceRangeValue[1],\n      mostActivePrice: state.priceAssumptionValue,\n    });\n  }, [refElement, state.token0PriceChart, state.token1PriceChart]);\n\n  useEffect(() => {\n    if (!d3Chart) return;\n\n    d3Chart.updateMostActivePriceAssumption(state.priceAssumptionValue);\n  }, [state.priceAssumptionValue]);\n\n  useEffect(() => {\n    if (!d3Chart) return;\n\n    d3Chart.updateMinMaxPriceRange(\n      state.priceRangeValue[0],\n      state.priceRangeValue[1]\n    );\n  }, [state.priceRangeValue]);\n\n  if (state.token0PriceChart === null || state.token1PriceChart === null) {\n    return <></>;\n  }\n\n  return (\n    <Container>\n      <Padding>\n        <WrappedHeader>\n          <Heading>\n            {state.token0?.symbol} / {state.token1?.symbol} Correlation{\" \"}\n            <Tag>(1 month)</Tag>\n          </Heading>\n\n          <div>\n            Current: {Number(state.pool?.token0Price).toFixed(2)}{\" \"}\n            {state.token0?.symbol} / {state.token1?.symbol}\n          </div>\n        </WrappedHeader>\n      </Padding>\n\n      <div ref={refElement} />\n\n      <Padding>\n        <Stat>\n          <StatItem>\n            <div>MIN</div>{\" \"}\n            <span>{findMin(data.map((d) => d.y)).toFixed(4)}</span>\n          </StatItem>\n          <StatItem>\n            <div>MAX</div>{\" \"}\n            <span>{findMax(data.map((d) => d.y)).toFixed(4)}</span>\n          </StatItem>\n          <StatItem>\n            <div>AVG</div>{\" \"}\n            <span>{calculateAvg(data.map((d) => d.y)).toFixed(4)}</span>\n          </StatItem>\n        </Stat>\n      </Padding>\n    </Container>\n  );\n};\n\nexport default CorrelationChart;\n","import React from \"react\";\nimport { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport styled from \"styled-components\";\n\nconst CreditContainer = styled.div`\n  padding: 50px 15px;\n  text-align: center;\n  color: #bbb;\n  font-size: 0.8rem;\n\n  & svg {\n    color: rgb(247, 2, 119);\n  }\n\n  & a {\n    color: rgb(30, 161, 241);\n    font-weight: bold;\n    text-decoration: none;\n  }\n\n  & > div:nth-child(2) {\n    margin-top: 7px;\n\n    & > a {\n      color: #777;\n      margin: 0 7px;\n    }\n  }\n`;\n\nconst Credit = () => {\n  return (\n    <CreditContainer>\n      <div>\n        Sponsored by{\" \"}\n        <a target=\"_blank\" href=\"https://unigrants.org\">\n          Unigrant\n        </a>{\" \"}\n        (Wave 7). Crafted with <FontAwesomeIcon icon={faHeart} /> by{\" \"}\n        <a href=\"https://twitter.com/chunza2542\" target=\"_blank\">\n          @chunza2542\n        </a>\n        , Happy Uniswapping 🦄!!\n      </div>\n      <div>\n        <a\n          href=\"https://github.com/chunza2542/uniswapv3-calculator\"\n          target=\"_blank\"\n        >\n          How it works?\n        </a>\n        <a\n          href=\"https://github.com/chunza2542/uniswapv3-calculator/issues\"\n          target=\"_blank\"\n        >\n          Report a bug or request a feature\n        </a>\n        <a href=\"mailto:hello@thechun.dev\">Contact: hello@thechun.dev</a>\n      </div>\n    </CreditContainer>\n  );\n};\n\nexport default Credit;\n","import styled from \"styled-components\";\n\nconst Table = styled.div`\n  width: 100%;\n  display: grid;\n  grid-template-columns: 7rem 1fr 5rem;\n  grid-gap: 7px;\n\n  padding: 6px 12px;\n  margin-top: 7px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 12px;\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #999;\n\n  & > div:nth-child(2) {\n    text-align: right;\n  }\n  & > div:nth-child(3) {\n    text-align: left;\n    background: rgba(255, 255, 255, 0.05);\n    border-radius: 5rem;\n    text-align: center;\n  }\n`;\n\nexport default Table;\n","import { V3Token } from \"../repos/uniswap\";\nimport TokenImageURI from \"./tokenImageURI.json\";\n\nexport const getFeeTierPercentage = (tier: string): number => {\n  if (tier === \"100\") return 0.01 / 100;\n  if (tier === \"500\") return 0.05 / 100;\n  if (tier === \"3000\") return 0.3 / 100;\n  if (tier === \"10000\") return 1 / 100;\n  return 0;\n};\n\nexport const getTokenLogoURL = (address: string): string => {\n  const mapper = TokenImageURI as { [key: string]: string };\n  const imageURL = mapper[address];\n\n  if (imageURL) return imageURL;\n\n  return `https://via.placeholder.com/30`;\n};\n\nexport const sortToken = (token0: V3Token, token1: V3Token): V3Token[] => {\n  if (token0.id < token1.id) {\n    return [token0, token1];\n  }\n  return [token1, token0];\n};\n","import bn from \"bignumber.js\";\nimport { getFeeTierPercentage } from \"./helper\";\nimport { encodePriceSqrt, expandDecimals } from \"./math\";\n\nbn.config({ EXPONENTIAL_AT: 999999, DECIMAL_PLACES: 40 });\n\nconst Q96 = new bn(2).pow(96);\nconst mulDiv = (a: bn, b: bn, multiplier: bn) => {\n  return a.multipliedBy(b).div(multiplier);\n};\n\nexport const getTickFromPrice = (\n  price: number,\n  token0Decimal: string,\n  token1Decimal: string\n): number => {\n  const token0 = expandDecimals(price, Number(token0Decimal));\n  const token1 = expandDecimals(1, Number(token1Decimal));\n  const sqrtPrice = mulDiv(\n    encodePriceSqrt(token1),\n    Q96,\n    encodePriceSqrt(token0)\n  ).div(new bn(2).pow(96));\n\n  return Math.log(sqrtPrice.toNumber()) / Math.log(Math.sqrt(1.0001));\n};\n\nexport const getPriceFromTick = (\n  tick: number,\n  token0Decimal: string,\n  token1Decimal: string\n): number => {\n  const sqrtPrice = new bn(Math.pow(Math.sqrt(1.0001), tick)).multipliedBy(\n    new bn(2).pow(96)\n  );\n  const token0 = expandDecimals(1, Number(token0Decimal));\n  const token1 = expandDecimals(1, Number(token1Decimal));\n  const L2 = mulDiv(encodePriceSqrt(token0), encodePriceSqrt(token1), Q96);\n  const price = mulDiv(L2, Q96, sqrtPrice)\n    .div(new bn(2).pow(96))\n    .div(new bn(10).pow(token0Decimal))\n    .pow(2);\n\n  return price.toNumber();\n};\n\n// for calculation detail, please visit README.md (Section: Calculation Breakdown, No. 1)\nexport const getTokenAmountsFromDepositAmounts = (\n  P: number,\n  Pl: number,\n  Pu: number,\n  priceUSDX: number,\n  priceUSDY: number,\n  targetAmounts: number\n) => {\n  const deltaL =\n    targetAmounts /\n    ((Math.sqrt(P) - Math.sqrt(Pl)) * priceUSDY +\n      (1 / Math.sqrt(P) - 1 / Math.sqrt(Pu)) * priceUSDX);\n\n  let deltaY = deltaL * (Math.sqrt(P) - Math.sqrt(Pl));\n  if (deltaY * priceUSDY < 0) deltaY = 0;\n  if (deltaY * priceUSDY > targetAmounts) deltaY = targetAmounts / priceUSDY;\n\n  let deltaX = deltaL * (1 / Math.sqrt(P) - 1 / Math.sqrt(Pu));\n  if (deltaX * priceUSDX < 0) deltaX = 0;\n  if (deltaX * priceUSDX > targetAmounts) deltaX = targetAmounts / priceUSDX;\n\n  return { amount0: deltaX, amount1: deltaY };\n};\n\n// for calculation detail, please visit README.md (Section: Calculation Breakdown, No. 2)\nconst getLiquidityForAmount0 = (\n  sqrtRatioAX96: bn,\n  sqrtRatioBX96: bn,\n  amount0: bn\n): bn => {\n  // amount0 * (sqrt(upper) * sqrt(lower)) / (sqrt(upper) - sqrt(lower))\n  const intermediate = mulDiv(sqrtRatioBX96, sqrtRatioAX96, Q96);\n  return mulDiv(amount0, intermediate, sqrtRatioBX96.minus(sqrtRatioAX96));\n};\n\nconst getLiquidityForAmount1 = (\n  sqrtRatioAX96: bn,\n  sqrtRatioBX96: bn,\n  amount1: bn\n): bn => {\n  // amount1 / (sqrt(upper) - sqrt(lower))\n  return mulDiv(amount1, Q96, sqrtRatioBX96.minus(sqrtRatioAX96));\n};\n\nexport const getSqrtPriceX96 = (\n  price: number,\n  token0Decimal: string,\n  token1Decimal: string\n): bn => {\n  const token0 = expandDecimals(price, Number(token0Decimal));\n  const token1 = expandDecimals(1, Number(token1Decimal));\n  // return mulDiv(encodePriceSqrt(token1), Q96, encodePriceSqrt(token0)).div(\n  //   new bn(2).pow(96)\n  // );\n  return token0.div(token1).sqrt().multipliedBy(new bn(2).pow(96));\n};\n\nexport const getLiquidityForAmounts = (\n  sqrtRatioX96: bn,\n  sqrtRatioAX96: bn,\n  sqrtRatioBX96: bn,\n  _amount0: number,\n  amount0Decimal: number,\n  _amount1: number,\n  amount1Decimal: number\n): bn => {\n  const amount0 = expandDecimals(_amount0, amount0Decimal);\n  const amount1 = expandDecimals(_amount1, amount1Decimal);\n\n  let liquidity: bn;\n  if (sqrtRatioX96.lte(sqrtRatioAX96)) {\n    liquidity = getLiquidityForAmount0(sqrtRatioAX96, sqrtRatioBX96, amount0);\n  } else if (sqrtRatioX96.lt(sqrtRatioBX96)) {\n    const liquidity0 = getLiquidityForAmount0(\n      sqrtRatioX96,\n      sqrtRatioBX96,\n      amount0\n    );\n    const liquidity1 = getLiquidityForAmount1(\n      sqrtRatioAX96,\n      sqrtRatioX96,\n      amount1\n    );\n\n    liquidity = bn.min(liquidity0, liquidity1);\n  } else {\n    liquidity = getLiquidityForAmount1(sqrtRatioAX96, sqrtRatioBX96, amount1);\n  }\n\n  return liquidity;\n};\n\nexport const calculateFee = (\n  liquidityDelta: bn,\n  liquidity: bn,\n  volume24H: number,\n  _feeTier: string\n): number => {\n  const feeTier = getFeeTierPercentage(_feeTier);\n  const liquidityPercentage = liquidityDelta\n    .div(liquidity.plus(liquidityDelta))\n    .toNumber();\n\n  return feeTier * volume24H * liquidityPercentage;\n};\n","import { ModalContextState } from \"./modalContext\";\n\nexport enum ModalActionType {\n  SET_SELECT_PAIR_MODAL_STATE = \"SET_SELECT_PAIR_MODAL_STATE\",\n  SET_DONATE_MODAL_STATE = \"SET_DONATE_MODAL_STATE\",\n}\n\nexport type ModalContextAction =\n  | { type: ModalActionType.SET_SELECT_PAIR_MODAL_STATE; payload: boolean }\n  | { type: ModalActionType.SET_DONATE_MODAL_STATE; payload: boolean };\n\nexport const modalContextReducer = (\n  state: ModalContextState,\n  action: ModalContextAction\n): ModalContextState => {\n  switch (action.type) {\n    case ModalActionType.SET_SELECT_PAIR_MODAL_STATE: {\n      return { ...state, isSelectPairModalOpen: action.payload };\n    }\n    case ModalActionType.SET_DONATE_MODAL_STATE: {\n      return { ...state, isDonateModalOpen: action.payload };\n    }\n  }\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Heading } from \"../common/atomic\";\nimport Table from \"../common/Table\";\nimport { useAppContext } from \"../context/app/appContext\";\nimport { Tick } from \"../repos/uniswap\";\nimport bn from \"bignumber.js\";\nimport {\n  calculateFee,\n  getLiquidityForAmounts,\n  getSqrtPriceX96,\n  getTickFromPrice,\n  getTokenAmountsFromDepositAmounts,\n} from \"../utils/liquidityMath\";\n\nconst SettingContainer = styled.div`\n  background: rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 16px;\n`;\nconst Fee = styled.span`\n  display: block;\n  color: rgb(37, 175, 96);\n  font-weight: 500;\n  font-size: 2.4rem;\n  margin-top: -10px;\n\n  & > span {\n    margin-right: 3px;\n    display: inline-block;\n    font-weight: 600;\n    transform: translateY(2px);\n  }\n`;\nconst Tag = styled.div`\n  display: inline-block;\n  color: rgba(255, 255, 255, 0.3);\n`;\n\nconst EstimatedFees = () => {\n  const { state } = useAppContext();\n\n  const calculateLiquidity = (ticks: Tick[], currentTick: number): bn => {\n    if (ticks.length <= 1) return new bn(0);\n    let liquidity: bn = new bn(0);\n    for (let i = 0; i < ticks.length - 1; ++i) {\n      liquidity = liquidity.plus(new bn(ticks[i].liquidityNet));\n\n      let lowerTick = Number(ticks[i].tickIdx);\n      let upperTick = Number(ticks[i + 1].tickIdx);\n\n      if (lowerTick <= currentTick && currentTick <= upperTick) {\n        break;\n      }\n    }\n\n    return liquidity;\n  };\n\n  const P = state.priceAssumptionValue;\n  const Pl = state.priceRangeValue[0];\n  const Pu = state.priceRangeValue[1];\n  const priceUSDX = state.token1PriceChart?.currentPriceUSD || 1;\n  const priceUSDY = state.token0PriceChart?.currentPriceUSD || 1;\n  const targetAmounts = state.depositAmountValue;\n\n  const { amount0, amount1 } = getTokenAmountsFromDepositAmounts(\n    P,\n    Pl,\n    Pu,\n    priceUSDX,\n    priceUSDY,\n    targetAmounts\n  );\n\n  const sqrtRatioX96 = getSqrtPriceX96(\n    P,\n    state.token0?.decimals || \"18\",\n    state.token1?.decimals || \"18\"\n  );\n  const sqrtRatioAX96 = getSqrtPriceX96(\n    Pl,\n    state.token0?.decimals || \"18\",\n    state.token1?.decimals || \"18\"\n  );\n  const sqrtRatioBX96 = getSqrtPriceX96(\n    Pu,\n    state.token0?.decimals || \"18\",\n    state.token1?.decimals || \"18\"\n  );\n\n  const deltaL = getLiquidityForAmounts(\n    sqrtRatioX96,\n    sqrtRatioAX96,\n    sqrtRatioBX96,\n    amount0,\n    Number(state.token1?.decimals || 18),\n    amount1,\n    Number(state.token0?.decimals || 18)\n  );\n\n  let currentTick = getTickFromPrice(\n    P,\n    state.token0?.decimals || \"18\",\n    state.token1?.decimals || \"18\"\n  );\n\n  if (state.isSwap) currentTick = -currentTick;\n\n  const L = calculateLiquidity(state.poolTicks || [], currentTick);\n  const volume24H = state.volume24H;\n  const feeTier = state.pool?.feeTier || \"\";\n\n  let fee = calculateFee(deltaL, L, volume24H, feeTier);\n  if (P < Pl || P > Pu) fee = 0;\n\n  return (\n    <SettingContainer>\n      <Heading>\n        Estimated Fees <Tag>(24h)</Tag>\n      </Heading>\n      <Fee>\n        <span className=\"dollar\">$</span>\n        {fee.toFixed(2)}\n      </Fee>\n\n      <Table>\n        <div>MONTHLY</div>\n        <div>${(fee * 30).toFixed(2)}</div>\n        <div>{((100 * (fee * 30)) / targetAmounts).toFixed(2)}%</div>\n      </Table>\n      <Table>\n        <div>YEARLY (APR)</div>\n        <div>${(fee * 365).toFixed(2)}</div>\n        <div>{((100 * (fee * 365)) / targetAmounts).toFixed(2)}%</div>\n      </Table>\n    </SettingContainer>\n  );\n};\n\nexport default EstimatedFees;\n","import styled from \"styled-components\";\n\nconst ButtonStyle = styled.button`\n  border: 0;\n  font-size: 1rem;\n  font-weight: 600;\n  border-radius: 12px;\n  padding: 6px 10px;\n  cursor: pointer;\n`;\n\nexport const Button = styled(ButtonStyle)`\n  background: rgba(255, 255, 255, 0.1);\n  color: white;\n  &:hover {\n    background: rgba(255, 255, 255, 0.15);\n  }\n`;\n\nexport const DangerButton = styled(ButtonStyle)`\n  background: radial-gradient(\n      174.47% 188.91% at 1.84% 0%,\n      rgb(255, 0, 122) 0%,\n      rgb(33, 114, 229) 100%\n    ),\n    rgb(237, 238, 242);\n  color: white;\n`;\n\nexport const PrimaryButton = styled(ButtonStyle)`\n  background: #1470f1;\n  color: white;\n  &:hover {\n    background: #2a77fd;\n  }\n`;\nexport const PrimaryBlockButton = styled(PrimaryButton)`\n  color: white;\n  width: 100%;\n  padding: 15px;\n  display: flex;\n  justify-content: center;\n\n  & svg {\n    transform: scale(1.5);\n  }\n\n  background: #1470f1;\n  &:hover {\n    background: #2a77fd;\n  }\n`;\n","import axios from \"axios\";\nimport tokenAddressMapping from \"./tokenAddressMapping.json\";\n\nexport enum QueryPeriodEnum {\n  ONE_DAY = \"1\",\n  ONE_WEEK = \"7\",\n  ONE_MONTH = \"30\",\n  THREE_MONTH = \"90\",\n  ONE_YEAR = \"90\",\n  MAX = \"max\",\n}\n\nexport interface Token {\n  id: string;\n  name: string;\n}\nconst getToken = (contractAddress: string): Token => {\n  const mapping = tokenAddressMapping as { [key: string]: any };\n  return mapping[contractAddress];\n};\n\nexport interface Price {\n  timestamp: number;\n  value: number;\n}\nexport interface PriceChart {\n  tokenId: string;\n  tokenName: string;\n  currentPriceUSD: number;\n  prices: Price[];\n}\nexport const getPriceChart = async (\n  contractAddress: string,\n  queryPeriod: QueryPeriodEnum = QueryPeriodEnum.ONE_MONTH\n): Promise<PriceChart | null> => {\n  const token = getToken(contractAddress);\n\n  if (!token) return null;\n\n  const marketChartRes = (await axios.get(\n    `https://api.coingecko.com/api/v3/coins/${token.id}/market_chart?vs_currency=usd&days=${queryPeriod}`\n  )) as any;\n  const currentPriceRes = (await axios.get(\n    `https://api.coingecko.com/api/v3/simple/price?ids=${token.id}&vs_currencies=usd`\n  )) as any;\n  const prices = marketChartRes.data.prices.map(\n    (d: any) =>\n      ({\n        timestamp: d[0],\n        value: d[1],\n      } as Price)\n  );\n\n  return {\n    tokenId: token.id,\n    tokenName: token.name,\n    currentPriceUSD: currentPriceRes.data[token.id].usd as number,\n    prices,\n  };\n};\n","import React from \"react\";\nimport { ModalContextAction, modalContextReducer } from \"./modalReducer\";\n\nexport interface ModalContextState {\n  isSelectPairModalOpen: boolean;\n  isDonateModalOpen: boolean;\n}\nconst initialState: ModalContextState = {\n  isSelectPairModalOpen: true,\n  isDonateModalOpen: false,\n};\n\ninterface ModalContextProviderProps {\n  children: React.ReactNode;\n}\nconst ModalContext = React.createContext<\n  | { state: ModalContextState; dispatch: (action: ModalContextAction) => void }\n  | undefined\n>(undefined);\n\nexport const ModalContextProvider = ({\n  children,\n}: ModalContextProviderProps) => {\n  const [state, dispatch] = React.useReducer(modalContextReducer, initialState);\n  const value = { state, dispatch };\n\n  return (\n    <ModalContext.Provider value={value}>{children}</ModalContext.Provider>\n  );\n};\n\nexport const useModalContext = () => {\n  const context = React.useContext(ModalContext);\n  if (context === undefined) {\n    throw new Error(\n      \"useModalContext must be used within a ModalContextProvider\"\n    );\n  }\n  return context;\n};\n","import { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Button, PrimaryButton } from \"../common/buttons\";\nimport { useAppContext } from \"../context/app/appContext\";\nimport { AppActionType } from \"../context/app/appReducer\";\nimport { useModalContext } from \"../context/modal/modalContext\";\nimport { ModalActionType } from \"../context/modal/modalReducer\";\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: white;\n`;\nconst FeePercentage = styled.span`\n  font-size: 1rem;\n  padding: 1px 5px;\n  border-radius: 5px;\n  font-weight: 400;\n  color: #999;\n  margin-left: 7px;\n  background: rgba(255, 255, 255, 0.15);\n`;\nconst PairToken = styled.div`\n  display: flex;\n  align-items: center;\n\n  & > div {\n    margin-right: 7px;\n    & img {\n      height: 30px;\n      border-radius: 50%;\n      transform: translateY(2.5px);\n    }\n    & img:nth-child(2) {\n      margin-left: -15px;\n    }\n  }\n\n  & h2 {\n    margin: 0;\n    font-size: 1.2rem;\n    display: block;\n\n    & svg {\n      color: #999;\n      font-size: 0.8rem;\n      transform: translateX(7px) translateY(-6px);\n    }\n  }\n`;\n\nconst Header = () => {\n  const appContext = useAppContext();\n  const modalContext = useModalContext();\n\n  return (\n    <HeaderContainer>\n      <PairToken>\n        <div>\n          <img\n            src={appContext.state.token0?.logoURI}\n            alt={appContext.state.token0?.name}\n          />\n          <img\n            src={appContext.state.token1?.logoURI}\n            alt={appContext.state.token1?.name}\n          />\n        </div>\n        <h2>\n          <span>\n            {appContext.state.token0?.symbol} /{\" \"}\n            {appContext.state.token1?.symbol}\n          </span>\n          <FeePercentage>\n            {appContext.state.pool?.feeTier === \"100\" && <span>0.01%</span>}\n            {appContext.state.pool?.feeTier === \"500\" && <span>0.05%</span>}\n            {appContext.state.pool?.feeTier === \"3000\" && <span>0.3%</span>}\n            {appContext.state.pool?.feeTier === \"10000\" && <span>1%</span>}\n          </FeePercentage>\n          <FeePercentage>{appContext.state.network.name}</FeePercentage>\n          <a\n            href={`https://info.uniswap.org/#/${appContext.state.network.id}/pools/${appContext.state.pool?.id}`}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            aria-label=\"Open in Uniswap\"\n          >\n            <FontAwesomeIcon icon={faExternalLinkAlt} />\n          </a>\n        </h2>\n      </PairToken>\n      <div>\n        <Button\n          style={{ marginRight: 7 }}\n          onClick={() => {\n            appContext.dispatch({\n              type: AppActionType.SWAP_CURRENT_PAIR,\n            });\n          }}\n        >\n          Swap Current Pair\n        </Button>\n        <PrimaryButton\n          onClick={() => {\n            modalContext.dispatch({\n              type: ModalActionType.SET_SELECT_PAIR_MODAL_STATE,\n              payload: true,\n            });\n          }}\n        >\n          Change Pair\n        </PrimaryButton>\n      </div>\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport styled from \"styled-components\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport { DangerButton } from \"../common/buttons\";\nimport { useModalContext } from \"../context/modal/modalContext\";\nimport { ModalActionType } from \"../context/modal/modalReducer\";\n\nconst NavbarContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px 30px;\n  background: rgb(0, 0, 0, 0.9);\n  position: fixed;\n  width: 100vw;\n  top: 0;\n  z-index: 9999;\n`;\n\nconst Logo = styled.h1`\n  color: white;\n  margin: 0;\n  font-weight: bold;\n  font-size: 1.2rem;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n\n  & > span {\n    font-size: 1.4rem;\n    margin-right: 7px;\n  }\n`;\n\nconst Menubar = styled.a`\n  display: flex;\n  align-items: center;\n\n  & a {\n    color: rgba(255, 255, 255, 0.6);\n    font-size: 1.2rem;\n    margin-right: 15px;\n\n    &:hover {\n      color: rgba(255, 255, 255, 0.8);\n    }\n  }\n`;\n\nconst Navbar = () => {\n  const { dispatch } = useModalContext();\n\n  return (\n    <NavbarContainer>\n      <Logo>\n        <span>🦄</span> UniswapCalculator\n      </Logo>\n      <Menubar>\n        <a\n          href=\"https://twitter.com/chunza2542\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FontAwesomeIcon icon={faTwitter} />\n        </a>\n        <a\n          href=\"https://github.com/chunza2542/uniswapv3-calculator\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <FontAwesomeIcon icon={faGithub} />\n        </a>\n        <a href=\"mailto:hello@thechun.dev\">\n          <FontAwesomeIcon icon={faEnvelope} />\n        </a>\n        <a\n          href=\"https://gitcoin.co/grants/4203/uniswap-calculator-v3\"\n          target=\"_blank\"\n        >\n          <DangerButton\n          // onClick={() => {\n          //   dispatch({\n          //     type: ModalActionType.SET_DONATE_MODAL_STATE,\n          //     payload: true,\n          //   });\n          // }}\n          >\n            Donate\n          </DangerButton>\n        </a>\n      </Menubar>\n    </NavbarContainer>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport * as d3 from \"d3\";\nimport { findMax, findMin } from \"../utils/math\";\nimport { getPriceFromTick } from \"../utils/liquidityMath\";\n\nexport interface Bin {\n  x0: number;\n  x1: number;\n  y: number;\n}\ninterface D3LiquidityHistogramProps {\n  width: number;\n  height: number;\n  data: Bin[];\n  currentTick: number;\n  minTick: number;\n  maxTick: number;\n  token0Symbol: string;\n  token1Symbol: string;\n  token0Decimal: string;\n  token1Decimal: string;\n}\nclass D3LiquidityHistogram {\n  containerEl;\n  props;\n  svg;\n  x;\n  y;\n  xAxis;\n  yAxis;\n  currentTick;\n  minTick;\n  maxTick;\n  token0Symbol;\n  token1Symbol;\n\n  constructor(containerEl: any, props: D3LiquidityHistogramProps) {\n    this.containerEl = containerEl;\n    this.props = props;\n    this.token0Symbol = props.token0Symbol;\n    this.token1Symbol = props.token1Symbol;\n\n    this.svg = d3\n      .select(containerEl)\n      .append(\"svg\")\n      .attr(\"width\", props.width)\n      .attr(\"height\", props.height);\n\n    // add x axis\n    const x = d3\n      .scaleLinear()\n      .domain([props.minTick, this.props.maxTick])\n      .range([0, props.width]);\n    this.xAxis = this.svg\n      .append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + (props.height - 20) + \")\")\n      .attr(\"color\", \"#666\")\n      .call(d3.axisBottom(x));\n    this.x = x;\n\n    // add y axis\n    const y = d3\n      .scaleLinear()\n      .domain([0, findMax(this.props.data.map((d) => d.y)) * 1.25])\n      .range([props.height, 0]);\n    this.yAxis = this.svg\n      .append(\"g\")\n      .attr(\"color\", \"transparent\")\n      .call(d3.axisLeft(y));\n    this.y = y;\n\n    this.svg\n      .selectAll(\"rect\")\n      .data(this.props.data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 1)\n      .attr(\"transform\", function (d) {\n        return \"translate(\" + x(d.x0) + \",\" + (y(d.y) - 20) + \")\";\n      })\n      .attr(\"width\", function (d) {\n        return x(d.x1) - x(d.x0);\n      })\n      .attr(\"height\", function (d) {\n        return props.height - y(d.y);\n      })\n      .style(\"fill\", \"rgb(38, 108, 221)\");\n\n    this.handleMouseMove();\n    this.currentTick = this.renderCurrentTick(this.props.currentTick);\n\n    const { minTickSVG, maxTickSVG } = this.renderMinMaxTickRange(\n      props.minTick,\n      props.maxTick\n    );\n    this.minTick = minTickSVG;\n    this.maxTick = maxTickSVG;\n  }\n\n  destroy() {\n    this.svg.remove();\n  }\n\n  renderMinMaxTickRange(minTick: number, maxTick: number) {\n    const minTickSVG = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgba(37, 175, 96, 1)\")\n      .attr(\"y1\", 0)\n      .attr(\"x1\", this.x(minTick))\n      .attr(\"y2\", this.props.height - 20)\n      .attr(\"x2\", this.x(minTick));\n\n    const maxTickSVG = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgba(37, 175, 96, 1)\")\n      .attr(\"y1\", 0)\n      .attr(\"x1\", this.x(maxTick))\n      .attr(\"y2\", this.props.height - 20)\n      .attr(\"x2\", this.x(maxTick));\n\n    return { minTickSVG, maxTickSVG };\n  }\n  updateMinMaxTickRange(minTick: number, maxTick: number) {\n    this.minTick\n      .attr(\"y1\", 0)\n      .attr(\"x1\", this.x(minTick))\n      .attr(\"y2\", this.props.height - 20)\n      .attr(\"x2\", this.x(minTick));\n\n    this.maxTick\n      .attr(\"y1\", 0)\n      .attr(\"x1\", this.x(maxTick))\n      .attr(\"y2\", this.props.height - 20)\n      .attr(\"x2\", this.x(maxTick));\n  }\n\n  renderCurrentTick(currentTick: number) {\n    return this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1.25)\n      .style(\"stroke-dasharray\", \"10, 3\")\n      .style(\"stroke\", \"rgb(255, 112, 181)\")\n      .attr(\"x1\", this.x(currentTick))\n      .attr(\"y1\", 0)\n      .attr(\"x2\", this.x(currentTick))\n      .attr(\"y2\", this.props.height - 20);\n  }\n  updateCurrentTick(currentTick: number) {\n    this.currentTick\n      .attr(\"x1\", this.x(currentTick))\n      .attr(\"y1\", 0)\n      .attr(\"x2\", this.x(currentTick))\n      .attr(\"y2\", this.props.height - 20);\n  }\n\n  handleMouseMove() {\n    const focusTextToken0 = this.svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"fill\", \"white\")\n      .attr(\"font-size\", \"0.6rem\")\n      .attr(\"alignment-baseline\", \"middle\");\n    const focusTextToken1 = this.svg\n      .append(\"g\")\n      .append(\"text\")\n      .style(\"opacity\", 0)\n      .attr(\"fill\", \"white\")\n      .attr(\"font-size\", \"0.6rem\")\n      .attr(\"alignment-baseline\", \"middle\");\n    const verticalLine = this.svg\n      .append(\"g\")\n      .append(\"line\")\n      .style(\"stroke-width\", 1)\n      .style(\"stroke\", \"rgba(255,255,255,0.25)\");\n\n    const onMouseMove = (e: any) => {\n      let coords = d3.pointer(e);\n      const x0 = this.x.invert(coords[0]);\n      verticalLine\n        .attr(\"x1\", this.x(x0))\n        .attr(\"y1\", 0)\n        .attr(\"x2\", this.x(x0))\n        .attr(\"y2\", this.props.height - 20);\n\n      const self = this;\n      if (this.x(x0) > this.props.width * 0.8) {\n        focusTextToken0\n          .html(\n            `${this.token0Symbol}: ${getPriceFromTick(\n              x0,\n              this.props.token0Decimal,\n              this.props.token1Decimal\n            ).toFixed(6)} ${this.token1Symbol}`\n          )\n          .attr(\"x\", function (d: any) {\n            return self.x(x0) - (this.getComputedTextLength() + 5);\n          })\n          .attr(\"text-anchor\", \"right\")\n          .attr(\"y\", 5);\n        focusTextToken1\n          .html(\n            `${this.token1Symbol}: ${(\n              1 /\n              getPriceFromTick(\n                x0,\n                this.props.token0Decimal,\n                this.props.token1Decimal\n              )\n            ).toFixed(6)} ${this.token0Symbol}`\n          )\n          .attr(\"x\", function (d: any) {\n            return self.x(x0) - (this.getComputedTextLength() + 5);\n          })\n          .attr(\"text-anchor\", \"right\")\n          .attr(\"y\", 20);\n      } else {\n        focusTextToken0\n          .html(\n            `${this.token0Symbol}: ${getPriceFromTick(\n              x0,\n              this.props.token0Decimal,\n              this.props.token1Decimal\n            )} ${this.token1Symbol}`\n          )\n          .attr(\"x\", this.x(x0) + 5)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"y\", 5);\n        focusTextToken1\n          .html(\n            `${this.token1Symbol}: ${(\n              1 /\n              getPriceFromTick(\n                x0,\n                this.props.token0Decimal,\n                this.props.token1Decimal\n              )\n            ).toFixed(6)} ${this.token0Symbol}`\n          )\n          .attr(\"x\", this.x(x0) + 5)\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"y\", 20);\n      }\n    };\n\n    this.svg\n      .append(\"rect\")\n      .style(\"fill\", \"none\")\n      .style(\"pointer-events\", \"all\")\n      .attr(\"width\", this.props.width)\n      .attr(\"height\", this.props.height)\n      .on(\"mouseover\", () => {\n        focusTextToken0.style(\"opacity\", 1);\n        focusTextToken1.style(\"opacity\", 1);\n        verticalLine.style(\"opacity\", 1);\n      })\n      .on(\"mouseout\", () => {\n        focusTextToken0.style(\"opacity\", 0);\n        focusTextToken1.style(\"opacity\", 0);\n        verticalLine.style(\"opacity\", 0);\n      })\n      .on(\"mousemove\", onMouseMove);\n  }\n}\n\nexport default D3LiquidityHistogram;\n","import { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { Heading } from \"../common/atomic\";\nimport D3LiquidityHistogram, { Bin } from \"./D3LiquidityHistogram\";\nimport { useAppContext } from \"../context/app/appContext\";\nimport { Tick } from \"../repos/uniswap\";\nimport { getPriceFromTick, getTickFromPrice } from \"../utils/liquidityMath\";\nimport { AppActionType } from \"../context/app/appReducer\";\nimport { divideArray, findMax, findMin } from \"../utils/math\";\n\nconst Container = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n`;\nconst Padding = styled.div`\n  padding: 16px;\n`;\nconst WrappedHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n\n  & > div {\n    transform: translateY(0);\n    display: flex;\n    align-items: center;\n    color: red;\n    font-size: 0.8rem;\n    color: #999;\n    height: 25px;\n    padding: 12px;\n    border-radius: 5rem;\n    background: rgba(255, 255, 255, 0.05);\n  }\n`;\n\nlet d3Chart: D3LiquidityHistogram | null = null;\nconst LiquidityPositionChart = () => {\n  const { state, dispatch } = useAppContext();\n  const refElement = useRef<HTMLDivElement>(null);\n\n  const processData = (\n    ticks: Tick[],\n    minTick: number,\n    maxTick: number\n  ): Bin[] => {\n    const bins: Bin[] = [];\n    let liquidity = 0;\n    for (let i = 0; i < ticks.length - 1; ++i) {\n      liquidity += Number(ticks[i].liquidityNet);\n\n      const lowerTick = Number(ticks[i].tickIdx);\n      const upperTick = Number(ticks[i + 1].tickIdx);\n\n      if (upperTick > minTick && lowerTick < maxTick) {\n        bins.push({\n          x0: Number(ticks[i].tickIdx),\n          x1: Number(ticks[i + 1].tickIdx),\n          y: liquidity,\n        });\n      }\n    }\n    return bins;\n  };\n\n  const calculateInitialMinMaxTick = (\n    ticks: Tick[],\n    minimumTick: number,\n    maximumTick: number\n  ) => {\n    const liquidity: Bin[] = [];\n    for (let i = 0; i < ticks.length - 1; ++i) {\n      liquidity.push({\n        x0: Number(ticks[i].tickIdx),\n        x1: Number(ticks[i].tickIdx),\n        y:\n          (liquidity[liquidity.length - 1] || { y: 0 }).y +\n          Number(ticks[i].liquidityNet),\n      });\n    }\n    const avg = liquidity.reduce((a, b) => a + b.y, 0) / liquidity.length;\n    const result = liquidity.filter(\n      (b) =>\n        avg / b.y <= 15 && b.y > 0 && b.x0 >= minimumTick && b.x0 <= maximumTick\n    );\n    if (result.length === 0) {\n      return { minTick: 0, maxTick: 0 };\n    }\n    return { minTick: result[0].x0, maxTick: result[result.length - 1].x0 };\n  };\n\n  useEffect(() => {\n    if (!state.poolTicks || !state.pool || !state.token0 || !state.token1)\n      return;\n\n    let width = 500;\n    let height = 240;\n    if (refElement.current) {\n      width = refElement.current.offsetWidth;\n    }\n\n    if (d3Chart) d3Chart.destroy();\n\n    const currentPrice = Number(state.pool.token0Price);\n\n    let currentTick = getTickFromPrice(\n      currentPrice,\n      state.token0.decimals,\n      state.token1.decimals\n    );\n    if (state.isSwap) {\n      currentTick = -currentTick;\n    }\n    let minimumTick = getTickFromPrice(\n      currentPrice * 0.5,\n      state.token0.decimals,\n      state.token1.decimals\n    );\n    let maximumTick = getTickFromPrice(\n      currentPrice * 2,\n      state.token0.decimals,\n      state.token1.decimals\n    );\n    if (state.isSwap) {\n      minimumTick = -minimumTick;\n      maximumTick = -maximumTick;\n    }\n\n    let _ticks = [minimumTick, maximumTick].sort((a, b) => a - b);\n    let { minTick, maxTick } = calculateInitialMinMaxTick(\n      state.poolTicks,\n      _ticks[0],\n      _ticks[1]\n    );\n    const ticks = [minTick, maxTick].sort((a, b) => a - b);\n\n    let token0Symbol;\n    let token1Symbol;\n    if (state.isSwap) {\n      token0Symbol = state.token1?.symbol;\n      token1Symbol = state.token0?.symbol;\n    } else {\n      token0Symbol = state.token0?.symbol;\n      token1Symbol = state.token1?.symbol;\n    }\n\n    const margin = (ticks[1] - ticks[0]) / 10;\n    d3Chart = new D3LiquidityHistogram(refElement.current, {\n      width,\n      height,\n      minTick: ticks[0] - margin,\n      maxTick: ticks[1] + margin,\n      currentTick,\n      token0Symbol,\n      token1Symbol,\n      token0Decimal: state.token0.decimals,\n      token1Decimal: state.token1.decimals,\n      data: processData(state.poolTicks, ticks[0], ticks[1]),\n    });\n\n    // update range\n    let minPrice = getPriceFromTick(\n      ticks[0],\n      state.token0.decimals,\n      state.token1.decimals\n    );\n    let maxPrice = getPriceFromTick(\n      ticks[1],\n      state.token0.decimals,\n      state.token1.decimals\n    );\n    if (state.isSwap) {\n      minPrice = getPriceFromTick(\n        -ticks[0],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n      maxPrice = getPriceFromTick(\n        -ticks[1],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n    }\n    const prices = [minPrice, maxPrice].sort((a, b) => a - b);\n    const _p = divideArray(\n      (state.token1PriceChart?.prices || []).map((p) => p.value),\n      (state.token0PriceChart?.prices || []).map((p) => p.value)\n    );\n    let _min = findMin(_p);\n    let _max = findMax(_p);\n    const min = Math.max(_min, prices[0]);\n    const max = Math.min(_max, prices[1]);\n    dispatch({\n      type: AppActionType.UPDATE_PRICE_RANGE,\n      payload: [min, max],\n    });\n  }, [\n    refElement,\n    state.poolTicks,\n    state.pool,\n    state.token0,\n    state.token1,\n    state.token0PriceChart,\n    state.token1PriceChart,\n  ]);\n\n  useEffect(() => {\n    if (!d3Chart) return;\n    if (!state.token0 || !state.token1) return;\n\n    const currentPrice = Number(state.priceAssumptionValue);\n    if (!state.isSwap) {\n      d3Chart.updateCurrentTick(\n        getTickFromPrice(\n          currentPrice,\n          state.token0.decimals,\n          state.token1.decimals\n        )\n      );\n    } else {\n      d3Chart.updateCurrentTick(\n        -getTickFromPrice(\n          currentPrice,\n          state.token0.decimals,\n          state.token1.decimals\n        )\n      );\n    }\n  }, [state.priceAssumptionValue, state.token0, state.token1]);\n\n  useEffect(() => {\n    if (!d3Chart) return;\n    if (!state.token0 || !state.token1) return;\n\n    let minTick: number;\n    let maxTick: number;\n\n    if (!state.isSwap) {\n      minTick = getTickFromPrice(\n        state.priceRangeValue[0],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n      maxTick = getTickFromPrice(\n        state.priceRangeValue[1],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n    } else {\n      minTick = -getTickFromPrice(\n        state.priceRangeValue[0],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n      maxTick = -getTickFromPrice(\n        state.priceRangeValue[1],\n        state.token0.decimals,\n        state.token1.decimals\n      );\n    }\n\n    d3Chart.updateMinMaxTickRange(minTick, maxTick);\n  }, [state.priceRangeValue, state.token0, state.token1]);\n\n  return (\n    <Container>\n      <Padding>\n        <WrappedHeader>\n          <Heading>Liquidity Position</Heading>\n        </WrappedHeader>\n      </Padding>\n\n      <div ref={refElement} />\n    </Container>\n  );\n};\n\nexport default LiquidityPositionChart;\n","import axios from \"axios\";\nimport { NETWORKS } from \"../common/types\";\nimport { getTokenLogoURL, sortToken } from \"../utils/helper\";\n\nlet subgraphEndpoint = NETWORKS[0].subgraphEndpoint;\n\nexport const updateSubgraphEndpoint = (newEndpoint: string) => {\n  subgraphEndpoint = newEndpoint;\n};\n\nconst queryUniswap = async (query: string): Promise<any> => {\n  const { data } = await axios({\n    url: subgraphEndpoint,\n    method: \"post\",\n    data: {\n      query,\n    },\n  });\n\n  return data.data;\n};\n\nexport const getVolumn24H = async (poolAddress: string): Promise<number> => {\n  const { poolDayDatas } = await queryUniswap(`{\n    poolDayDatas(skip: 1, first:3, orderBy: date, orderDirection: desc, where:{pool: \"${poolAddress}\"}) {\n      volumeUSD\n    }\n  }`);\n\n  const data = poolDayDatas.map((d: { volumeUSD: string }) =>\n    Number(d.volumeUSD)\n  );\n\n  return (\n    data.reduce((result: number, curr: number) => result + curr, 0) /\n    data.length\n  );\n};\n\nexport interface Tick {\n  tickIdx: string;\n  liquidityNet: string;\n  price0: string;\n  price1: string;\n}\nexport const getPoolTicks = async (poolAddress: string): Promise<Tick[]> => {\n  const { ticks } = await queryUniswap(`{\n    ticks(first: 1000, skip: 0, where: { poolAddress: \"${poolAddress}\" }, orderBy: tickIdx) {\n      tickIdx\n      liquidityNet\n      price0\n      price1\n    }\n  }`);\n\n  return ticks as Tick[];\n};\n\nexport interface V3Token {\n  id: string;\n  name: string;\n  symbol: string;\n  volumeUSD: string;\n  logoURI: string;\n  decimals: string;\n}\nconst _getTokenList = async (\n  result: V3Token[],\n  page: number = 0\n): Promise<V3Token[]> => {\n  const res = await queryUniswap(`{\n    tokens(skip: ${page * 1000}, first: 1000, orderBy: id) {\n      id\n      name\n      symbol\n      volumeUSD\n      decimals\n    }\n  }`);\n\n  if (res === undefined || res.tokens.length === 0) {\n    return result;\n  }\n\n  result = [...result, ...res.tokens];\n  return await _getTokenList(result, page + 1);\n};\nexport const getTokenList = async (): Promise<V3Token[]> => {\n  const tokens = await _getTokenList([]);\n  return tokens\n    .map((token) => {\n      token.logoURI = getTokenLogoURL(token.id);\n      return token;\n    })\n    .map((token) => {\n      if (token.name === \"Wrapped Ether\" || token.name === \"Wrapped Ethereum\") {\n        token.name = \"Ethereum\";\n        token.symbol = \"ETH\";\n        token.logoURI =\n          \"https://cdn.iconscout.com/icon/free/png-128/ethereum-2752194-2285011.png\";\n      }\n      if (token.name === \"Wrapped Matic\") {\n        token.name = \"Polygon Native Token\";\n        token.symbol = \"MATIC\";\n      }\n      return token;\n    })\n    .filter((token) => token.symbol.length < 30)\n    .sort((a, b) => Number(b.volumeUSD) - Number(a.volumeUSD));\n};\n\nexport interface Pool {\n  id: string;\n  feeTier: string;\n  liquidity: string;\n  tick: string;\n  sqrtPrice: string;\n  token0Price: string;\n  token1Price: string;\n}\nexport const getPoolFromPair = async (\n  token0: V3Token,\n  token1: V3Token\n): Promise<Pool[]> => {\n  const sortedTokens = sortToken(token0, token1);\n\n  const { pools } = await queryUniswap(`{\n    pools(orderBy: feeTier, where: {\n        token0: \"${sortedTokens[0].id}\",\n        token1: \"${sortedTokens[1].id}\"}) {\n      id\n      tick\n      sqrtPrice\n      feeTier\n      liquidity\n      token0Price\n      token1Price\n    }\n  }`);\n\n  return pools as Pool[];\n};\n","import React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { V3Token } from \"../../repos/uniswap\";\nimport ReactLoading from \"react-loading\";\nimport { useEffect } from \"react\";\nimport Fuse from \"fuse.js\";\n\nconst Container = styled.div`\n  width: 370px;\n  padding: 15px;\n`;\nconst SearchInput = styled.input`\n  border: 0;\n  outline: none;\n  width: 100%;\n  padding: 12px 12px;\n  border-radius: 12px;\n  font-size: 1rem;\n  color: white;\n  background: rgba(255, 255, 255, 0.1);\n  cursor: pointer;\n  transition: 0.3s;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.12);\n  }\n\n  &:focus {\n    background: rgba(255, 255, 255, 0.15);\n  }\n`;\nconst Divider = styled.div`\n  width: 100%;\n  height: 1px;\n  background: rgba(255, 255, 255, 0.1);\n`;\nconst Scrollable = styled.div`\n  height: 300px;\n  overflow: scroll;\n`;\nconst LoadingContainer = styled.div`\n  height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\nconst TokenItem = styled.div`\n  cursor: pointer;\n  color: white;\n  display: flex;\n  align-items: center;\n  transition: 0.3s;\n  padding: 5px 15px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  & > img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin-right: 15px;\n  }\n\n  & > div {\n    & h5 {\n      margin: 0;\n      font-weight: normal;\n      font-size: 1rem;\n      color: white;\n    }\n    & span {\n      font-size: 0.8rem;\n      color: #999;\n      display: block;\n    }\n  }\n`;\n\nconst MAX_NUMBER_PER_PAGE = 100;\ninterface SearchTokenPageProps {\n  tokens: V3Token[];\n  selectToken: (token: V3Token) => void;\n}\nconst SearchTokenPage = ({ tokens, selectToken }: SearchTokenPageProps) => {\n  const [filteredTokens, setFilteredTokens] = useState<V3Token[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [timeoutId, setTimeoutId] = useState<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    setFilteredTokens(tokens.slice(0, MAX_NUMBER_PER_PAGE));\n  }, [tokens]);\n\n  const handleSearch = (value: string) => {\n    timeoutId && clearTimeout(timeoutId);\n    value = value.trim();\n\n    if (value === \"\") {\n      setFilteredTokens(tokens.slice(0, MAX_NUMBER_PER_PAGE));\n      setIsLoading(false);\n      return;\n    }\n\n    setIsLoading(true);\n\n    const _timeoutId = setTimeout(() => {\n      const fuse = new Fuse(tokens, {\n        includeScore: true,\n        keys: [\"id\", \"name\", \"symbol\"],\n      });\n\n      setFilteredTokens(fuse.search(value).map((d) => d.item) as V3Token[]);\n\n      timeoutId && clearTimeout(timeoutId);\n      setIsLoading(false);\n    }, 1000);\n\n    setTimeoutId(_timeoutId);\n  };\n\n  return (\n    <>\n      <Container>\n        <SearchInput\n          onChange={(e) => handleSearch(e.target.value)}\n          placeholder=\"Search name or paste address\"\n        />\n      </Container>\n      <Divider />\n      {(isLoading || tokens.length === 0) && (\n        <LoadingContainer>\n          <ReactLoading\n            type=\"spin\"\n            color=\"rgba(34, 114, 229, 1)\"\n            height={50}\n            width={50}\n          />\n        </LoadingContainer>\n      )}\n      {!isLoading && tokens.length > 0 && (\n        <Scrollable>\n          {filteredTokens.map((token) => {\n            return (\n              <TokenItem\n                onClick={() => selectToken(token)}\n                id={`${token.symbol}_${token.name}_${token.id}`}\n              >\n                <img src={token.logoURI} alt={token.name} />\n                <div>\n                  <h5>{token.symbol}</h5>\n                  <span>{token.name}</span>\n                </div>\n              </TokenItem>\n            );\n          })}\n        </Scrollable>\n      )}\n    </>\n  );\n};\n\nexport default SearchTokenPage;\n","import { useEffect } from \"react\";\nimport Modal from \"react-modal\";\nimport ReactLoading from \"react-loading\";\nimport { useModalContext } from \"../../context/modal/modalContext\";\nimport { Heading } from \"../../common/atomic\";\nimport styled from \"styled-components\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft, faChevronDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { PrimaryBlockButton } from \"../../common/buttons\";\nimport { useState } from \"react\";\nimport {\n  getPoolFromPair,\n  getPoolTicks,\n  getTokenList,\n  getVolumn24H,\n  Pool,\n  updateSubgraphEndpoint,\n  V3Token,\n} from \"../../repos/uniswap\";\nimport SearchTokenPage from \"./SearchTokenPage\";\nimport { useAppContext } from \"../../context/app/appContext\";\nimport { AppActionType } from \"../../context/app/appReducer\";\nimport { sortToken } from \"../../utils/helper\";\nimport { getPriceChart } from \"../../repos/coingecko\";\nimport { ModalActionType } from \"../../context/modal/modalReducer\";\nimport { Network, NETWORKS } from \"../../common/types\";\n\nconst ModalStyle = {\n  overlay: {\n    backgroundColor: \"rgba(0,0,0,0.9)\",\n    zIndex: 99999,\n  },\n  content: {\n    border: 0,\n    padding: 0,\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    borderRadius: \"16px\",\n    marginRight: \"calc(-50% + 30px)\",\n    transform: \"translate(-50%, -50%)\",\n    background: \"rgb(28, 27, 28)\",\n  },\n};\nconst Container = styled.div`\n  width: 370px;\n  padding: 15px;\n`;\nconst SelectNetworkContainer = styled.div`\n  margin-bottom: 15px;\n`;\nconst SelectPairContainer = styled.div`\n  display: grid;\n  grid-gap: 10px;\n  margin-bottom: 15px;\n  grid-template-columns: repeat(2, 1fr);\n`;\nconst TokenSelect = styled.div`\n  color: white;\n  cursor: pointer;\n  padding: 8px 12px;\n  border-radius: 12px;\n  transition: 0.3s;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background: rgba(255, 255, 255, 0.1);\n  font-weight: 500;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.25);\n  }\n\n  & > span {\n    display: flex;\n    align-items: center;\n\n    & > img {\n      width: 25px;\n      height: 25px;\n      margin-right: 10px;\n      border-radius: 50%;\n    }\n  }\n`;\nconst Tier = styled.div`\n  border-radius: 12px;\n  padding: 6px;\n  cursor: pointer;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n\n  & h4 {\n    color: #fff;\n    margin: 0;\n    font-size: 1rem;\n  }\n\n  & > span {\n    font-size: 0.8rem;\n    line-height: 1.2rem;\n    margin-top: 5px;\n    display: inline-block;\n    color: #999;\n  }\n\n  & > div {\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 5px;\n    padding: 3px 5px;\n    color: #ccc;\n    font-size: 0.8rem;\n    margin-top: 7px;\n    text-align: center;\n  }\n`;\nconst FeeTiersContainer = styled.div`\n  display: grid;\n  grid-gap: 7px;\n  grid-template-columns: repeat(2, 1fr);\n  margin-bottom: 20px;\n`;\nconst GoBack = styled.h1`\n  color: white;\n  margin: 0;\n  font-weight: 500;\n  display: flex;\n  padding: 15px;\n  justify-content: center;\n  align-items: center;\n  background: rgb(50, 50, 50);\n  font-size: 1rem;\n\n  & > div {\n    cursor: pointer;\n    position: absolute;\n    left: 15px;\n  }\n`;\nconst NetworkItem = styled.div`\n  cursor: pointer;\n  color: white;\n  display: flex;\n  align-items: center;\n  transition: 0.3s;\n  width: calc(370px - 10px * 2);\n  margin: 10px;\n  border: 1px solid #333;\n  border-radius: 15px;\n  padding: 10px 15px;\n\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  & > img {\n    width: 30px;\n    height: 30px;\n    border-radius: 50%;\n    margin-right: 15px;\n  }\n\n  & > div {\n    & h5 {\n      margin: 0;\n      font-weight: normal;\n      font-size: 1rem;\n      color: white;\n    }\n    & span {\n      font-size: 0.8rem;\n      color: #999;\n      display: block;\n    }\n  }\n`;\nconst Logo = styled.h1`\n  color: white;\n  margin: 0;\n  font-weight: bold;\n  font-size: 1.2rem;\n  font-weight: 500;\n  display: flex;\n  padding: 15px;\n  align-items: center;\n  background: rgb(50, 50, 50);\n  & > span {\n    font-size: 1.4rem;\n    margin-right: 7px;\n  }\n`;\nconst FEE_TIER_STYLES = {\n  DISABLE: {\n    cursor: \"not-allowed\",\n    background: \"rgba(255, 255, 255, 0.1)\",\n  },\n  ACTIVE: {\n    border: \"1px solid rgba(38, 109, 221, 1)\",\n    background: \"rgba(38, 109, 221, 0.25)\",\n  },\n};\nconst SelectPairModal = () => {\n  const appContext = useAppContext();\n  const modalContext = useModalContext();\n\n  const [selectedNetwork, setSelectedNetwork] = useState<Network | null>(\n    NETWORKS[0]\n  );\n  const [selectedTokens, setSelectedTokens] = useState<V3Token[] | null[]>([\n    null,\n    null,\n  ]);\n  const [showSelectNetworkPage, setShowSelectNetworkPage] =\n    useState<boolean>(false);\n  const [showSelectTokenPage, setShowSelectTokenPage] =\n    useState<boolean>(false);\n  const [selectedTokenIndex, setSelectedTokenIndex] = useState<number | null>(\n    null\n  );\n\n  const [pools, setPools] = useState<Pool[]>([]);\n  const [selectedPool, setSelectedPool] = useState<Pool | null>(null);\n\n  const [isSubmitLoading, setIsSubmitLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    fetchTokens();\n  }, []);\n\n  useEffect(() => {\n    fetchPools();\n  }, [selectedTokens]);\n\n  const isFormDisabled =\n    isSubmitLoading ||\n    !(selectedTokens[0] && selectedTokens[1] && selectedPool);\n\n  const handleSubmit = async () => {\n    if (\n      isSubmitLoading ||\n      !(selectedTokens[0] && selectedTokens[1] && selectedPool) ||\n      !selectedNetwork\n    ) {\n      return;\n    }\n    setIsSubmitLoading(true);\n\n    const [token0, token1] = sortToken(selectedTokens[0], selectedTokens[1]);\n    const pool = selectedPool;\n    const poolTicks = await getPoolTicks(pool.id);\n    const token0PriceChart = await getPriceChart(token0.id);\n    const token1PriceChart = await getPriceChart(token1.id);\n    const volume24H = await getVolumn24H(pool.id);\n\n    appContext.dispatch({\n      type: AppActionType.RESET_PAIR,\n      payload: {\n        network: selectedNetwork,\n        pool,\n        poolTicks,\n        token0,\n        token1,\n        token0PriceChart,\n        token1PriceChart,\n        volume24H,\n      },\n    });\n\n    setIsSubmitLoading(false);\n    modalContext.dispatch({\n      type: ModalActionType.SET_SELECT_PAIR_MODAL_STATE,\n      payload: false,\n    });\n  };\n\n  const fetchPools = async () => {\n    if (!selectedTokens[0] || !selectedTokens[1]) return;\n    const pools = await getPoolFromPair(selectedTokens[0], selectedTokens[1]);\n    setPools(pools);\n\n    if (pools.length === 0) {\n      setSelectedPool(null);\n      return;\n    }\n\n    let maxPool = pools[0];\n    let maxLiquidity = Number(pools[0].liquidity);\n    pools.forEach((pool) => {\n      if (Number(pool.liquidity) > maxLiquidity) {\n        maxPool = pool;\n        maxLiquidity = Number(pool.liquidity);\n      }\n    });\n    if (maxLiquidity != 0) {\n      setSelectedPool(maxPool);\n    }\n  };\n\n  const getFeeTier = (feeTier: string) => {\n    const pool = pools.find((pool) => pool.feeTier === feeTier);\n    if (!pool) return null;\n    if (+pool.liquidity === 0) return null;\n    return pool;\n  };\n\n  const getFeeTierPercentage = (feeTier: string) => {\n    const tier = getFeeTier(feeTier);\n    if (tier === null) {\n      return \"Not Available\";\n    }\n    const totalLiquidity = pools.reduce(\n      (result, curr) => result + Number(curr.liquidity),\n      0\n    );\n    if (totalLiquidity === 0) return \"Not Available\";\n    return `${Math.round(\n      (100 * Number(tier.liquidity)) / totalLiquidity\n    )}% select`;\n  };\n\n  const getFeeTierStyle = (feeTier: string) => {\n    if (getFeeTier(feeTier) === null) {\n      return FEE_TIER_STYLES.DISABLE;\n    }\n\n    if (selectedPool?.feeTier === feeTier) {\n      return FEE_TIER_STYLES.ACTIVE;\n    }\n\n    return {};\n  };\n\n  const fetchTokens = async () => {\n    appContext.dispatch({\n      type: AppActionType.RESET_TOKEN_LIST,\n      payload: { tokenList: [] },\n    });\n\n    const tokenList = await getTokenList();\n    appContext.dispatch({\n      type: AppActionType.RESET_TOKEN_LIST,\n      payload: { tokenList },\n    });\n  };\n\n  const selectToken = (token: V3Token) => {\n    const _selectedTokens = JSON.parse(JSON.stringify(selectedTokens));\n\n    if (selectedTokenIndex !== null) {\n      _selectedTokens[selectedTokenIndex] = token;\n    }\n\n    setSelectedTokens(_selectedTokens);\n    setSelectedTokenIndex(null);\n    setShowSelectTokenPage(false);\n  };\n\n  return (\n    <>\n      <Modal\n        style={ModalStyle}\n        isOpen={modalContext.state.isSelectPairModalOpen}\n        contentLabel=\"Example Modal\"\n      >\n        {showSelectNetworkPage && (\n          <>\n            <GoBack>\n              <div\n                onClick={() => {\n                  setShowSelectNetworkPage(false);\n                }}\n              >\n                <FontAwesomeIcon icon={faArrowLeft} />\n              </div>\n              <span>Select Network</span>\n            </GoBack>\n            {NETWORKS.map((network, i) => {\n              return (\n                <NetworkItem\n                  style={\n                    network.disabled\n                      ? {\n                          cursor: \"not-allowed\",\n                          background: \"rgba(255, 255, 255, 0.1)\",\n                          opacity: \"0.4\",\n                        }\n                      : {}\n                  }\n                  onClick={() => {\n                    if (!network.disabled) {\n                      updateSubgraphEndpoint(network.subgraphEndpoint);\n                      fetchTokens();\n\n                      setSelectedNetwork(network);\n                      setSelectedTokens([null, null]);\n                      setShowSelectNetworkPage(false);\n                      setPools([]);\n                    }\n                  }}\n                  id={`${network.name}_${i}`}\n                >\n                  <img src={network.logoURI} alt={network.name} />\n                  <div>\n                    <h5>{network.name}</h5>\n                    <span>{network.desc}</span>\n                  </div>\n                </NetworkItem>\n              );\n            })}\n          </>\n        )}\n        {showSelectTokenPage && (\n          <>\n            <GoBack>\n              <div\n                onClick={() => {\n                  setShowSelectTokenPage(false);\n                  setSelectedTokenIndex(null);\n                }}\n              >\n                <FontAwesomeIcon icon={faArrowLeft} />\n              </div>\n              <span>Select Token</span>\n            </GoBack>\n            <SearchTokenPage\n              selectToken={selectToken}\n              tokens={appContext.state.tokenList}\n            />\n          </>\n        )}\n        {!showSelectTokenPage && !showSelectNetworkPage && (\n          <>\n            <Logo>\n              <span>🦄</span> UniswapCalculator\n            </Logo>\n            <Container>\n              <Heading>Select Network</Heading>\n              <SelectNetworkContainer>\n                <TokenSelect\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      setSelectedPool(null);\n                      setShowSelectNetworkPage(true);\n                    }\n                  }}\n                >\n                  {!selectedNetwork && <span>Select a network</span>}\n                  {selectedNetwork !== null && (\n                    <span>\n                      <img\n                        src={selectedNetwork.logoURI}\n                        alt={selectedNetwork.name}\n                      />\n                      {selectedNetwork.name}\n                    </span>\n                  )}\n                  <span>\n                    <FontAwesomeIcon icon={faChevronDown}></FontAwesomeIcon>\n                  </span>\n                </TokenSelect>\n              </SelectNetworkContainer>\n\n              <Heading>Select Pair</Heading>\n              <SelectPairContainer>\n                <TokenSelect\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      setSelectedPool(null);\n                      setShowSelectTokenPage(true);\n                      setSelectedTokenIndex(0);\n                    }\n                  }}\n                >\n                  {!selectedTokens[0] && <span>Select a token</span>}\n                  {selectedTokens[0] && (\n                    <span>\n                      <img\n                        src={selectedTokens[0].logoURI}\n                        alt={selectedTokens[0].name}\n                      />\n                      {selectedTokens[0].symbol}\n                    </span>\n                  )}\n                  <span>\n                    <FontAwesomeIcon icon={faChevronDown}></FontAwesomeIcon>\n                  </span>\n                </TokenSelect>\n                <TokenSelect\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      setSelectedPool(null);\n                      setShowSelectTokenPage(true);\n                      setSelectedTokenIndex(1);\n                    }\n                  }}\n                >\n                  {!selectedTokens[1] && <span>Select a token</span>}\n                  {selectedTokens[1] && (\n                    <span>\n                      <img\n                        src={selectedTokens[1].logoURI}\n                        alt={selectedTokens[1].name}\n                      />\n                      {selectedTokens[1].symbol}\n                    </span>\n                  )}\n                  <span>\n                    <FontAwesomeIcon icon={faChevronDown}></FontAwesomeIcon>\n                  </span>\n                </TokenSelect>\n              </SelectPairContainer>\n\n              <Heading>Select Fee Tier</Heading>\n              <FeeTiersContainer>\n                <Tier\n                  style={getFeeTierStyle(\"100\")}\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      const tier = getFeeTier(\"100\");\n                      tier && setSelectedPool(tier);\n                    }\n                  }}\n                >\n                  <h4 style={!getFeeTier(\"100\") ? { color: \"#999\" } : {}}>\n                    0.01%\n                  </h4>\n                  <span>Best for very stable pairs.</span>\n                  <div>{getFeeTierPercentage(\"100\")}</div>\n                </Tier>\n                <Tier\n                  style={getFeeTierStyle(\"500\")}\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      const tier = getFeeTier(\"500\");\n                      tier && setSelectedPool(tier);\n                    }\n                  }}\n                >\n                  <h4 style={!getFeeTier(\"500\") ? { color: \"#999\" } : {}}>\n                    0.05%\n                  </h4>\n                  <span>Best for stable pairs.</span>\n                  <div>{getFeeTierPercentage(\"500\")}</div>\n                </Tier>\n                <Tier\n                  style={getFeeTierStyle(\"3000\")}\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      const tier = getFeeTier(\"3000\");\n                      tier && setSelectedPool(tier);\n                    }\n                  }}\n                >\n                  <h4 style={!getFeeTier(\"3000\") ? { color: \"#999\" } : {}}>\n                    0.3%\n                  </h4>\n                  <span>Best for most pairs.</span>\n                  <div>{getFeeTierPercentage(\"3000\")}</div>\n                </Tier>\n                <Tier\n                  style={getFeeTierStyle(\"10000\")}\n                  onClick={() => {\n                    if (!isSubmitLoading) {\n                      const tier = getFeeTier(\"10000\");\n                      tier && setSelectedPool(tier);\n                    }\n                  }}\n                >\n                  <h4 style={!getFeeTier(\"10000\") ? { color: \"#999\" } : {}}>\n                    1%\n                  </h4>\n                  <span>Best for exotic pairs.</span>\n                  <div>{getFeeTierPercentage(\"10000\")}</div>\n                </Tier>\n              </FeeTiersContainer>\n\n              <PrimaryBlockButton\n                onClick={handleSubmit}\n                disabled={isFormDisabled}\n                style={\n                  isFormDisabled\n                    ? {\n                        background: \"rgba(255, 255, 255, 0.1)\",\n                        cursor: \"not-allowed\",\n                      }\n                    : {}\n                }\n              >\n                {isSubmitLoading && (\n                  <ReactLoading\n                    type=\"spin\"\n                    color=\"rgba(34, 114, 229, 1)\"\n                    height={18}\n                    width={18}\n                  />\n                )}\n                {!isSubmitLoading && <span>Calculate</span>}\n              </PrimaryBlockButton>\n            </Container>\n          </>\n        )}\n      </Modal>\n    </>\n  );\n};\n\nexport default SelectPairModal;\n","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Heading } from \"../../common/atomic\";\nimport Table from \"../../common/Table\";\nimport { useAppContext } from \"../../context/app/appContext\";\nimport { AppActionType } from \"../../context/app/appReducer\";\nimport { getTokenAmountsFromDepositAmounts } from \"../../utils/liquidityMath\";\n\nconst InputGroup = styled.div`\n  display: flex;\n  align-items: center;\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 6px 8px;\n\n  & > span {\n    color: white;\n    font-size: 2rem;\n    margin-right: 5px;\n    font-family: sans-serif;\n    font-weight: bold;\n    transform: translateY(-1.5px);\n  }\n`;\nconst DepositInput = styled.input`\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  color: white;\n  font-weight: 600;\n  font-size: 2rem;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst Token = styled.div`\n  display: flex;\n  align-items: center;\n\n  & > img {\n    height: 18px;\n    width: 18px;\n    border-radius: 50%;\n    transform: translateX(-5px);\n  }\n`;\n\nconst DepositAmounts = () => {\n  const { state, dispatch } = useAppContext();\n\n  const P = state.priceAssumptionValue;\n  const Pl = state.priceRangeValue[0];\n  const Pu = state.priceRangeValue[1];\n  const priceUSDX = state.token1PriceChart?.currentPriceUSD || 1;\n  const priceUSDY = state.token0PriceChart?.currentPriceUSD || 1;\n  const targetAmounts = state.depositAmountValue;\n\n  const { amount0, amount1 } = getTokenAmountsFromDepositAmounts(\n    P,\n    Pl,\n    Pu,\n    priceUSDX,\n    priceUSDY,\n    targetAmounts\n  );\n\n  return (\n    <div>\n      <Heading>Deposit Amounts</Heading>\n      <InputGroup>\n        <span className=\"dollar\">$</span>\n        <DepositInput\n          value={state.depositAmountValue}\n          type=\"number\"\n          placeholder=\"0.00\"\n          onChange={(e) => {\n            let value = Number(e.target.value);\n            if (value < 0) value = 0;\n\n            dispatch({\n              type: AppActionType.UPDATE_DEPOSIT_AMOUNT,\n              payload: value,\n            });\n          }}\n        />\n      </InputGroup>\n\n      <Table>\n        <Token>\n          <img alt={state.token0?.name} src={state.token0?.logoURI} />{\" \"}\n          <span>{state.token0?.symbol}</span>\n        </Token>\n        <div>{amount1.toFixed(5)}</div>\n        <div>${(amount1 * priceUSDY).toFixed(2)}</div>\n      </Table>\n      <Table>\n        <Token>\n          <img alt={state.token1?.name} src={state.token1?.logoURI} />{\" \"}\n          <span>{state.token1?.symbol}</span>\n        </Token>\n        <div>{amount0.toFixed(5)}</div>\n        <div>${(amount0 * priceUSDX).toFixed(2)}</div>\n      </Table>\n    </div>\n  );\n};\n\nexport default DepositAmounts;\n","import styled from \"styled-components\";\nimport ReactSlider from \"react-slider\";\n\nconst StyledSlider = styled(ReactSlider)`\n  width: 100%;\n  height: 3px;\n  margin-top: 15px;\n  margin-bottom: 10px;\n`;\nconst StyledThumb = styled.div`\n  height: 20px;\n  width: 5px;\n  text-align: center;\n  background-color: white;\n  cursor: grab;\n  border-radius: 3px;\n  transform: translateY(calc(3px / 2 + -20px / 2));\n`;\nconst StyledTrack = styled.div`\n  top: 0;\n  bottom: 0;\n  border-radius: 7px;\n  background-color: rgba(255, 255, 255, 0.25);\n`;\n\nconst Thumb = (props: any) => <StyledThumb {...props} />;\n\nconst Track = (props: any) => <StyledTrack {...props} />;\n\ninterface SliderProps {\n  thumbClassName?: string;\n  value: number | number[];\n  min: number;\n  max: number;\n  step?: number;\n  onChange: (value: any, index: number) => void;\n}\nconst Slider = (props: SliderProps) => {\n  return (\n    <StyledSlider\n      renderTrack={Track}\n      renderThumb={Thumb}\n      min={props.min}\n      max={40000}\n      onChange={props.onChange}\n      value={props.value}\n      step={props.step || 1}\n      thumbClassName={props.thumbClassName}\n    />\n  );\n};\n\nexport default Slider;\n","import { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { Heading } from \"../../common/atomic\";\nimport { useAppContext } from \"../../context/app/appContext\";\nimport { AppActionType } from \"../../context/app/appReducer\";\nimport { divideArray, findMax, findMin } from \"../../utils/math\";\nimport Slider from \"./Slider\";\n\nconst Group = styled.div`\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 6px 8px;\n  border-radius: 12px;\n`;\nconst InputGroup = styled.div`\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 6px 8px;\n  border-radius: 12px;\n  margin-top: 2px;\n  & > span {\n    font-size: 0.8rem;\n    text-align: center;\n    color: #999;\n    display: block;\n    text-align: center;\n  }\n`;\nconst Input = styled.input`\n  display: block;\n  width: 100%;\n  border: 0;\n  background: transparent;\n  color: white;\n  font-weight: 400;\n  font-size: 1.2rem;\n  text-align: center;\n  margin-top: 3px;\n\n  &:focus {\n    outline: none;\n  }\n`;\nconst MinMaxPriceContainer = styled.div`\n  display: grid;\n  grid-gap: 7px;\n  grid-template-columns: repeat(2, 1fr);\n\n  margin-bottom: 7px;\n`;\n\nconst PriceRange = () => {\n  const { state, dispatch } = useAppContext();\n\n  const prices = divideArray(\n    (state.token1PriceChart?.prices || []).map((p) => p.value),\n    (state.token0PriceChart?.prices || []).map((p) => p.value)\n  );\n\n  const currentPrice = Number(state.pool?.token0Price || NaN);\n\n  let _min = findMin(prices);\n  let _max = findMax(prices);\n  if (state.token0PriceChart === null || state.token1PriceChart === null) {\n    _min = currentPrice - currentPrice * 0.3;\n    _max = currentPrice + currentPrice * 0.3;\n  }\n  const margin = _max - _min;\n\n  const min = Math.max(0, _min - margin);\n  const max = _max + margin;\n  const step = (max - min) / 10000000;\n\n  useEffect(() => {\n    if (Number.isNaN(currentPrice)) return;\n\n    dispatch({\n      type: AppActionType.UPDATE_PRICE_ASSUMPTION_VALUE,\n      payload: currentPrice,\n    });\n    dispatch({\n      type: AppActionType.UPDATE_PRICE_RANGE,\n      payload: [_min, _max],\n    });\n  }, [state.pool]);\n\n  return (\n    <div>\n      <Heading>Price Range</Heading>\n      <Group>\n        <MinMaxPriceContainer>\n          <InputGroup>\n            <span>Min Price</span>\n            <Input\n              value={state.priceRangeValue[0]}\n              type=\"number\"\n              placeholder=\"0.0\"\n              onChange={(e) => {\n                let value = Number(e.target.value);\n\n                dispatch({\n                  type: AppActionType.UPDATE_PRICE_RANGE,\n                  payload: [value, state.priceRangeValue[0]],\n                });\n              }}\n            />\n            <span>\n              {state.token0?.symbol} per {state.token1?.symbol}\n            </span>\n          </InputGroup>\n          <InputGroup>\n            <span>Max Price</span>\n            <Input\n              value={state.priceRangeValue[1]}\n              type=\"number\"\n              placeholder=\"0.0\"\n              onChange={(e) => {\n                let value = Number(e.target.value);\n\n                dispatch({\n                  type: AppActionType.UPDATE_PRICE_RANGE,\n                  payload: [state.priceRangeValue[0], value],\n                });\n              }}\n            />\n            <span>\n              {state.token0?.symbol} per {state.token1?.symbol}\n            </span>\n          </InputGroup>\n        </MinMaxPriceContainer>\n        <Slider\n          thumbClassName=\"thumb-green\"\n          value={state.priceRangeValue}\n          min={min}\n          max={max}\n          step={step}\n          onChange={(value, _) => {\n            dispatch({\n              type: AppActionType.UPDATE_PRICE_RANGE,\n              payload: value,\n            });\n          }}\n        />\n      </Group>\n\n      <Group style={{ marginTop: 7 }}>\n        <InputGroup>\n          <span>Most Active Price Assumption</span>\n          <Input\n            value={state.priceAssumptionValue || 0}\n            type=\"number\"\n            placeholder=\"0.0\"\n            onChange={(e) => {\n              let value = Number(e.target.value);\n\n              dispatch({\n                type: AppActionType.UPDATE_PRICE_ASSUMPTION_VALUE,\n                payload: value,\n              });\n            }}\n          />\n          <span>\n            {state.token0?.symbol} per {state.token1?.symbol}\n          </span>\n        </InputGroup>\n        <Slider\n          thumbClassName=\"thumb-red\"\n          value={state.priceAssumptionValue}\n          min={min}\n          max={max}\n          step={step}\n          onChange={(value, _) => {\n            dispatch({\n              type: AppActionType.UPDATE_PRICE_ASSUMPTION_VALUE,\n              payload: value,\n            });\n          }}\n        />\n      </Group>\n    </div>\n  );\n};\n\nexport default PriceRange;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Br } from \"../../common/atomic\";\nimport DepositAmounts from \"./DepositAmounts\";\nimport OutOfRangePercentage from \"./OutOfRangePercentage\";\nimport PriceRange from \"./PriceRange\";\n\nconst SettingContainer = styled.div`\n  background: rgba(255, 255, 255, 0.05);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n  border-radius: 16px;\n  padding: 16px;\n`;\n\nconst Setting = () => {\n  return (\n    <SettingContainer>\n      <DepositAmounts />\n      <Br />\n      <PriceRange />\n      {/* <Br />\n      <OutOfRangePercentage /> */}\n    </SettingContainer>\n  );\n};\n\nexport default Setting;\n","import React from \"react\";\nimport { AppContextProvider } from \"./app/appContext\";\nimport { ModalContextProvider } from \"./modal/modalContext\";\n\ninterface ContextProviderProps {\n  children: React.ReactNode;\n}\nconst ContextProvider = ({ children }: ContextProviderProps) => {\n  return (\n    <AppContextProvider>\n      <ModalContextProvider>{children}</ModalContextProvider>\n    </AppContextProvider>\n  );\n};\n\nexport default ContextProvider;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useWindowWidth } from \"@react-hook/window-size\";\nimport { Br } from \"./common/atomic\";\nimport CorrelationChart from \"./containers/CorrelationChart\";\nimport Credit from \"./containers/Credit\";\nimport EstimatedFees from \"./containers/EstimatedFees\";\nimport Header from \"./containers/Header\";\nimport Navbar from \"./containers/Navbar\";\nimport LiquidityPositionChart from \"./containers/LiquidityPositionChart\";\nimport SelectPairModal from \"./containers/select-pair/SelectPairModal\";\nimport Setting from \"./containers/setting/Setting\";\nimport ContextProvider from \"./context/ContextProvider\";\nimport { PrimaryBlockButton } from \"./common/buttons\";\nimport { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGithub, faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faEnvelope } from \"@fortawesome/free-solid-svg-icons\";\nimport DonateModal from \"./containers/DonateModal\";\nimport { useAppContext } from \"./context/app/appContext\";\n\nconst BodyContainer = styled.div`\n  width: 900px;\n  margin: auto auto;\n  padding-top: 100px;\n`;\nconst ContentContainer = styled.div`\n  display: grid;\n  grid-template-columns: 5fr 7fr;\n  grid-gap: 25px;\n  margin-top: 25px;\n`;\nconst MobileNotSupportScreen = styled.div`\n  width: 100vw;\n  height: 100vh;\n  position: relative;\n  top: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 15px;\n  text-align: center;\n\n  color: white;\n\n  & > h1 {\n    margin: 0;\n    font-size: 1.2rem;\n  }\n  & > p {\n    color: #ccc;\n    font-size: 1rem;\n  }\n`;\nconst EnterSite = styled.div`\n  margin-top: 15px;\n  width: calc(100vw - 30px);\n`;\nconst Unicorn = styled.div`\n  font-size: 5rem;\n`;\nconst IconBar = styled.div`\n  font-size: 1.2rem;\n  margin-top: 30px;\n\n  & > a {\n    color: #777;\n    margin: 0 10px;\n  }\n`;\n\nfunction App() {\n  const screenWidth = useWindowWidth();\n  const [isEnter, setIsEnter] = useState(false);\n\n  return (\n    <ContextProvider>\n      {!isEnter && screenWidth <= 960 && (\n        <MobileNotSupportScreen>\n          <Unicorn>🦄</Unicorn>\n          <h1>Welcome to UniswapCalculator</h1>\n          <p>\n            Hi 🖐 Welcome to UniswapCalculator! I just want to tell you that\n            this site doesn't support mobile devices yet. for a better\n            experience, please visit on your desktop\n          </p>\n          <EnterSite>\n            <PrimaryBlockButton onClick={() => setIsEnter(true)}>\n              I understand, let's enter the site!\n            </PrimaryBlockButton>\n          </EnterSite>\n          <IconBar>\n            <a\n              href=\"https://twitter.com/chunza2542\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <FontAwesomeIcon icon={faTwitter} />\n            </a>\n            <a\n              href=\"https://github.com/chunza2542/uniswapv3-calculator\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              <FontAwesomeIcon icon={faGithub} />\n            </a>\n            <a href=\"mailto:hello@thechun.dev\">\n              <FontAwesomeIcon icon={faEnvelope} />\n            </a>\n          </IconBar>\n        </MobileNotSupportScreen>\n      )}\n      {(isEnter || screenWidth > 960) && (\n        <>\n          <SelectPairModal />\n          {/* <DonateModal /> */}\n          <Navbar />\n          <BodyContainer>\n            <Header />\n            <ContentContainer>\n              <div>\n                <EstimatedFees />\n                <Br />\n                <Setting />\n              </div>\n              <div>\n                <LiquidityPositionChart />\n                <Br />\n                <CorrelationChart />\n              </div>\n            </ContentContainer>\n\n            <Credit />\n          </BodyContainer>\n        </>\n      )}\n    </ContextProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}