{"ast":null,"code":"import _slicedToArray from\"/home/forgeserver/Desktop/MainNet-Forge-NFT/defi-stake-yield-brownie-main/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Button,CircularProgress,Snackbar,makeStyles}from\"@material-ui/core\";import{useUnstakeTokens,DistTokens,AuctionEnd,DistTimeKiwi,DistTime,RedeemBuyNFTNoApprove,RedeemNoApprove,AllowanceUser,CurrentVotePrice,useStakeTokens4,useStakeTokens3,SharesNeeded,CurrentRedeem2,CurrentVotePrice2,VotePrice,useStakingBalance}from\"../../hooks\";import Alert from\"@material-ui/lab/Alert\";import{useNotifications,useEthers,useTokenBalance}from\"@usedapp/core\";import{formatUnits}from\"@ethersproject/units\";import{SliderInput,BalanceMsg}from\"../../components\";import\"../../App.css\";import'react-pro-sidebar/dist/css/styles.css';import{utils}from\"ethers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{contentContainer:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"flex-start\",gap:theme.spacing(2)}};});export var Unstake=function Unstake(_ref){var token=_ref.token;var image=token.image,tokenAddress=token.address,name=token.name;var _useEthers=useEthers(),account=_useEthers.account;var _useNotifications=useNotifications(),notifications=_useNotifications.notifications;var balance=useStakingBalance(tokenAddress);var nothing;var testTime=DistTime();if(testTime!==nothing){console.log(\"testTime \",parseFloat(testTime.toString()));}// console.log(\"TestTime \", testTime)\nvar testTimeKiwi=DistTimeKiwi();if(testTimeKiwi!==nothing){console.log(\"TestTimeKiwi \",parseFloat(testTimeKiwi.toString()));}var timeToDist=false;var timeToDistKiwi=false;var msgTime=\"Nothing to distribute\";var secondsSinceEpoch=Math.round(Date.now()/1000);console.log(\"testTimeCurrent \",secondsSinceEpoch);if(testTime!==nothing&&secondsSinceEpoch>parseFloat(testTime.toString())){console.log(\"testTime is currently awaiting distribution\");timeToDist=true;msgTime=\"Click the button below to distribute the NFT Shares\";}if(testTimeKiwi!==nothing&&secondsSinceEpoch>parseFloat(testTimeKiwi.toString())){console.log(\"testTimeKiwi is currently awaiting distribution\");timeToDistKiwi=true;}//console.log(\"TestTimeKiwi \", testTimeKiwi)\n//Gets vote price and sell price\nvar curVoteP=CurrentVotePrice(tokenAddress);var formattedVoteP=curVoteP?parseFloat(formatUnits(curVoteP,18)):0;var yourPrice=\"0\";if(formattedVoteP!==nothing){yourPrice=formattedVoteP.toFixed(3);}var curVoteP2=CurrentVotePrice2(tokenAddress);var curVoteP2a=0;if(curVoteP2!=nothing){curVoteP2a=curVoteP2;}var formattedVoteP2=curVoteP2a?parseFloat(formatUnits(curVoteP2a,18)):0;var actualPriceSlider=0;var actualPrice=0;if(formattedVoteP2!==nothing){actualPriceSlider=formattedVoteP2;actualPrice=formattedVoteP2;}var balance2=useTokenBalance(\"0x00ec8bF85C9400B2056fA0BB499fd7150178dd06\",account);var formattedBalance=balance2?parseFloat(formatUnits(balance2,0)):0;var _useState=useState(actualPriceSlider),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),amount2=_useState4[0],setAmount2=_useState4[1];if(amount==0&&actualPriceSlider!==0){setAmount(actualPriceSlider);}var _useUnstakeTokens=useUnstakeTokens(),unstakeTokensSend=_useUnstakeTokens.send,unstakeTokensState=_useUnstakeTokens.state;var handleUnstakeSubmit=function handleUnstakeSubmit(){return unstakeTokensSend(tokenAddress);};var _VotePrice=VotePrice(tokenAddress),doVotePrice=_VotePrice.send,unstakeTokensState2=_VotePrice.state;var handleVotePrice=function handleVotePrice(){var amountAsWei=utils.parseEther(Number(amount).toFixed(18).toString());return doVotePrice(amountAsWei.toString());};var _DistTokens=DistTokens(tokenAddress),dist=_DistTokens.send,unstakeTokensState22=_DistTokens.state;var distributeTokens=function distributeTokens(){var amountAsWei=utils.parseEther(Number(amount).toFixed(18).toString());return dist(amountAsWei.toString());};var _useStakeTokens=useStakeTokens3(tokenAddress),doRedeemShares=_useStakeTokens.send,unstakeTokensState234=_useStakeTokens.state;var handleRedeem=function handleRedeem(){return doRedeemShares(Number(amount2).toString());};var _RedeemNoApprove=RedeemNoApprove(tokenAddress),doRedeemSharesNoApprove=_RedeemNoApprove.send,unstakeTokensState2346=_RedeemNoApprove.state;var handleRedeem2=function handleRedeem2(){return doRedeemSharesNoApprove(Number(amount2).toString());};var _RedeemBuyNFTNoApprov=RedeemBuyNFTNoApprove(tokenAddress),doCashinSharesNoApprove=_RedeemBuyNFTNoApprov.send,unstakeTokensState23456=_RedeemBuyNFTNoApprov.state;var handleCashinNoApprove=function handleCashinNoApprove(){return doCashinSharesNoApprove();};var _useStakeTokens2=useStakeTokens4(tokenAddress),doCashinShares=_useStakeTokens2.send,unstakeTokensState2345=_useStakeTokens2.state;var handleCashin=function handleCashin(){return doCashinShares(Number(amount).toString());};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showUnstakeSuccess=_useState6[0],setShowUnstakeSuccess=_useState6[1];var handleCloseSnack=function handleCloseSnack(){showUnstakeSuccess&&setShowUnstakeSuccess(false);};useEffect(function(){if(notifications.filter(function(notification){return notification.type===\"transactionSucceed\"&&notification.transactionName===\"Unstake tokens\";}).length>0){!showUnstakeSuccess&&setShowUnstakeSuccess(true);}},[notifications,showUnstakeSuccess]);var isMining=unstakeTokensState.status===\"Mining\";var isMining2=unstakeTokensState2345.status===\"Mining\";var isMining3=unstakeTokensState23456.status===\"Mining\";var isMining4=unstakeTokensState2346.status===\"Mining\";var isMining5=unstakeTokensState234.status===\"Mining\";var isMining6=unstakeTokensState2.status===\"Mining\";var shares=SharesNeeded(amount.toString());var sharesNeeded=0;if(shares!==nothing){sharesNeeded=parseFloat(shares.toString());}var alowz=AllowanceUser();var allowance=0;if(alowz!==nothing){allowance=parseFloat(alowz.toString());}var endsAt=AuctionEnd(amount.toString());var EndsAtt=0;var noAuc=false;if(endsAt!==nothing){EndsAtt=parseFloat(endsAt.toString());}var waitTilFinished;if(secondsSinceEpoch<EndsAtt){waitTilFinished=/*#__PURE__*/_jsx(\"h1\",{children:\"Wait until Auction is over to claim a NFT\"});noAuc=true;}var amountAsWei=utils.parseEther(Number(amount2).toFixed(0).toString());var test=CurrentRedeem2(Number(amount2).toFixed(0).toString());var redeemamt=0;console.log(\"TEST,\",test);if(test!==nothing){redeemamt=parseFloat(test.toString());}var test2=CurrentRedeem2(formattedBalance.toString());var redeemamtMax=0;if(test2!==nothing){redeemamtMax=parseFloat(test2.toString());}/*\n Test for max payouts total\n var test3 = CurrentRedeem2(\"320000\")\n\n var redeemamtMax2 = 0\n if(test3 !== nothing){\n  redeemamtMax2 = parseFloat(test3.toString()) / 10 ** 18\n }*/var classes=useStyles();if(tokenAddress==\"0x26C446e2B0d6295f22dE7c33452B583C12047463\"){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.contentContainer,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Once every 2 months you are able to distribute NFT Shares to the Forge Contract for distribution.\"}),/*#__PURE__*/_jsx(\"h1\",{children:msgTime}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:distributeTokens,disabled:!timeToDist,children:isMining||isMining6?/*#__PURE__*/_jsx(CircularProgress,{size:26}):\"Distribute NFT Shares to Forge Contract\"})]})});}if(tokenAddress==\"0xF44fB43066F7ECC91058E3A614Fb8A15A2735276\"){var msgmsg=\"\";if(parseFloat(yourPrice)>0.0001){msgmsg=\"Your current Voted Price to sell: \"+yourPrice+\" Forge\";}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.contentContainer,children:[/*#__PURE__*/_jsx(BalanceMsg,{label:\"Your shares of Forge NFT\",amount:formattedBalance,tokenImgSrc:image}),/*#__PURE__*/_jsx(\"br\",{}),msgmsg,/*#__PURE__*/_jsx(\"br\",{}),\"Everyone total overall sell price: \",actualPrice,\" Forge\",/*#__PURE__*/_jsx(SliderInput,{style:{width:\"350px\"},label:\"Decide on price to sell NFTs for\",minValue:actualPriceSlider/10+1/Math.pow(10,18),maxValue:actualPriceSlider*10-1/Math.pow(10,18),id:\"slider-input-\".concat(name),className:\"6\",value:amount,onChange:setAmount,disabled:isMining}),/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:handleVotePrice,disabled:isMining||isMining6,children:isMining||isMining6?/*#__PURE__*/_jsx(CircularProgress,{size:26}):\"Vote on Price to sell NFT for\"})]}),/*#__PURE__*/_jsx(Snackbar,{open:showUnstakeSuccess,autoHideDuration:5000,onClose:handleCloseSnack,children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnack,severity:\"success\",children:\"Successfully voted on new price\"})})]});}else if(tokenAddress==\"0xFab46E002BbF0b4509813474841E0716E6730136\"){var butText=\"Cash in \"+amount+\" shares for \"+(redeemamt/Math.pow(10,18)*2/3).toFixed(5)+\" Forge\";var but=\"test\";var but2=/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:handleRedeem,disabled:isMining||isMining5,children:isMining||isMining5?/*#__PURE__*/_jsx(CircularProgress,{size:26}):butText});if(allowance>amount){but=\"nohear2\";but2=/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:handleRedeem2,disabled:isMining||isMining4,children:isMining||isMining4?/*#__PURE__*/_jsx(CircularProgress,{size:26}):butText});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.contentContainer,children:[/*#__PURE__*/_jsx(BalanceMsg,{label:\"Your shares of Forge NFT\",amount:formattedBalance,tokenImgSrc:image}),/*#__PURE__*/_jsx(\"br\",{}),\"You can redeem your \",formattedBalance,\" shares for: \",(redeemamtMax/Math.pow(10,18)*2/3).toFixed(5),\" Forge\",/*#__PURE__*/_jsx(\"br\",{}),\"Wait until auction ends to recieve maximum\",/*#__PURE__*/_jsx(SliderInput,{label:\"Decide on how many Forge NFT Fractionalized shares to cash in\",maxValue:formattedBalance,minValue:0,id:\"slider-input-\".concat(name),className:\"6\",value:amount2,onChange:setAmount2,disabled:isMining}),\"Once you cash in, you can never claim again\",but2]}),/*#__PURE__*/_jsx(Snackbar,{open:showUnstakeSuccess,autoHideDuration:5000,onClose:handleCloseSnack,children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnack,severity:\"success\",children:\"Claimed Forge for your NFT shares.\"})})]})});}else{var butText=\"Click to trade \"+sharesNeeded+\" shares for NFT\";var but3=\"tes\";var but4=/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:handleCashin,disabled:isMining||noAuc||isMining2,children:isMining||isMining2?/*#__PURE__*/_jsx(CircularProgress,{size:26}):butText});if(allowance>sharesNeeded){but3=\"too\";but4=/*#__PURE__*/_jsx(Button,{color:\"primary\",variant:\"contained\",size:\"large\",onClick:handleCashinNoApprove,disabled:isMining||noAuc||isMining3,children:isMining||isMining3?/*#__PURE__*/_jsx(CircularProgress,{size:26}):butText});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.contentContainer,children:[/*#__PURE__*/_jsx(BalanceMsg,{label:\"Your shares of Forge NFT\",amount:formattedBalance,tokenImgSrc:image}),/*#__PURE__*/_jsx(\"br\",{}),\"You can redeem your \",formattedBalance,\" shares for \",Math.floor(formattedBalance/sharesNeeded),\" Forge NFTs\",/*#__PURE__*/_jsx(\"br\",{}),\"Each NFT costs \",sharesNeeded,\" shares\",waitTilFinished,but4,\"After redeeming go to the top section \\\"Claim and Browse NFTs to select your NFT\\\"\"]}),/*#__PURE__*/_jsx(Snackbar,{open:showUnstakeSuccess,autoHideDuration:5000,onClose:handleCloseSnack,children:/*#__PURE__*/_jsx(Alert,{onClose:handleCloseSnack,severity:\"success\",children:\"Successfully bought NFT, now go to Claim and Browse above and claim your NFT\"})})]});}};","map":{"version":3,"sources":["/home/forgeserver/Desktop/MainNet-Forge-NFT/defi-stake-yield-brownie-main/front_end/src/features/tokenFarmContract/Unstake.tsx"],"names":["React","useState","useEffect","Button","CircularProgress","Snackbar","makeStyles","useUnstakeTokens","DistTokens","AuctionEnd","DistTimeKiwi","DistTime","RedeemBuyNFTNoApprove","RedeemNoApprove","AllowanceUser","CurrentVotePrice","useStakeTokens4","useStakeTokens3","SharesNeeded","CurrentRedeem2","CurrentVotePrice2","VotePrice","useStakingBalance","Alert","useNotifications","useEthers","useTokenBalance","formatUnits","SliderInput","BalanceMsg","utils","useStyles","theme","contentContainer","display","flexDirection","alignItems","justifyContent","gap","spacing","Unstake","token","image","tokenAddress","address","name","account","notifications","balance","nothing","testTime","console","log","parseFloat","toString","testTimeKiwi","timeToDist","timeToDistKiwi","msgTime","secondsSinceEpoch","Math","round","Date","now","curVoteP","formattedVoteP","yourPrice","toFixed","curVoteP2","curVoteP2a","formattedVoteP2","actualPriceSlider","actualPrice","balance2","formattedBalance","amount","setAmount","amount2","setAmount2","unstakeTokensSend","send","unstakeTokensState","state","handleUnstakeSubmit","doVotePrice","unstakeTokensState2","handleVotePrice","amountAsWei","parseEther","Number","dist","unstakeTokensState22","distributeTokens","doRedeemShares","unstakeTokensState234","handleRedeem","doRedeemSharesNoApprove","unstakeTokensState2346","handleRedeem2","doCashinSharesNoApprove","unstakeTokensState23456","handleCashinNoApprove","doCashinShares","unstakeTokensState2345","handleCashin","showUnstakeSuccess","setShowUnstakeSuccess","handleCloseSnack","filter","notification","type","transactionName","length","isMining","status","isMining2","isMining3","isMining4","isMining5","isMining6","shares","sharesNeeded","alowz","allowance","endsAt","EndsAtt","noAuc","waitTilFinished","test","redeemamt","test2","redeemamtMax","classes","msgmsg","width","butText","but","but2","but3","but4","floor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport {\n  Button,\n  CircularProgress,\n  Snackbar,\n  makeStyles,\n} from \"@material-ui/core\"\nimport { Token } from \"../Main\"\nimport { useUnstakeTokens, DistTokens, AuctionEnd, DistTimeKiwi, DistTime, RedeemBuyNFTNoApprove, RedeemNoApprove, AllowanceUser, CurrentVotePrice, useStakeTokens4, useStakeTokens3, SharesNeeded, CurrentRedeem2, CurrentVotePrice2, VotePrice, useStakingBalance } from \"../../hooks\"\nimport Alert from \"@material-ui/lab/Alert\"\nimport { useNotifications, useEthers, useTokenBalance  } from \"@usedapp/core\"\nimport { formatUnits } from \"@ethersproject/units\"\nimport {SliderInput, SliderInput2, BalanceMsg } from \"../../components\"\nimport \"../../App.css\"\nimport { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\nimport 'react-pro-sidebar/dist/css/styles.css';\n\n\nimport { FaHeart, FaGem } from 'react-icons/fa';\nimport { utils } from \"ethers\"\nexport interface UnstakeFormProps {\n  token: Token\n}\n\nconst useStyles = makeStyles((theme) => ({\n  contentContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    gap: theme.spacing(2),\n  },\n}))\n\nexport const Unstake = ({ token }: UnstakeFormProps) => {\n  const { image, address: tokenAddress, name } = token\n\n  const { account } = useEthers();\n  const { notifications } = useNotifications()\n\n  const balance = useStakingBalance(tokenAddress)\n\n  let nothing\n  const testTime = DistTime()\n  if(testTime!== nothing){\n\n    console.log(\"testTime \", parseFloat(testTime.toString()))\n  }\n  // console.log(\"TestTime \", testTime)\n  const testTimeKiwi = DistTimeKiwi()\n  if(testTimeKiwi!== nothing){\n    console.log(\"TestTimeKiwi \", parseFloat(testTimeKiwi.toString()))\n  }\n  var timeToDist = false\n  var timeToDistKiwi = false\n  var msgTime = \"Nothing to distribute\"\n  const secondsSinceEpoch = Math.round(Date.now() / 1000)\n  console.log(\"testTimeCurrent \", secondsSinceEpoch)\n  if(testTime!== nothing && secondsSinceEpoch > parseFloat(testTime.toString())){\n    console.log(\"testTime is currently awaiting distribution\")\n    timeToDist = true\n    msgTime = \"Click the button below to distribute the NFT Shares\"\n  }\n  if(testTimeKiwi!== nothing && secondsSinceEpoch > parseFloat(testTimeKiwi.toString())){\n    console.log(\"testTimeKiwi is currently awaiting distribution\")\n    timeToDistKiwi = true\n  }\n  //console.log(\"TestTimeKiwi \", testTimeKiwi)\n  //Gets vote price and sell price\n  const curVoteP = CurrentVotePrice(tokenAddress)\n\n  const formattedVoteP: number = curVoteP\n    ? parseFloat(formatUnits(curVoteP, 18))\n    : 0\n    \n  var yourPrice = \"0\"\n  if(formattedVoteP!== nothing){\n\n    yourPrice = formattedVoteP.toFixed(3)\n  }\n  \n  const curVoteP2 = CurrentVotePrice2(tokenAddress)\n\n\n\n  var curVoteP2a = 0\n  if(curVoteP2 != nothing){\n    curVoteP2a = curVoteP2\n  \n  }\n      const formattedVoteP2: number = curVoteP2a\n        ? parseFloat(formatUnits(curVoteP2a, 18))\n        : 0\n  \n        \n  var actualPriceSlider = 0\n  var actualPrice = 0\n  if(formattedVoteP2!== nothing){\n    actualPriceSlider = formattedVoteP2\n\n    actualPrice = formattedVoteP2 \n  }\n  \n  const balance2 = useTokenBalance(\"0x00ec8bF85C9400B2056fA0BB499fd7150178dd06\", account)\n\n  const formattedBalance: number = balance2\n    ? parseFloat(formatUnits(balance2, 0))\n    : 0\n\n    const [amount, setAmount] =\n    useState<number | string | Array<number | string>>(actualPriceSlider)\n\n\n    const [amount2, setAmount2] =\n    useState<number | string | Array<number | string>>(0)\n\n\n\n\nif(amount == 0 && actualPriceSlider !== 0){\n  setAmount(actualPriceSlider)\n}\n\n\n\n  const { send: unstakeTokensSend, state: unstakeTokensState } =\n    useUnstakeTokens()\n\n  const handleUnstakeSubmit = () => {\n    return unstakeTokensSend(tokenAddress)\n  }\n\n\n\n  const { send: doVotePrice, state: unstakeTokensState2 } =\n    VotePrice(tokenAddress)\n    \n  const handleVotePrice = () => {\n    const amountAsWei = utils.parseEther(Number(amount).toFixed(18).toString())\n    return doVotePrice(amountAsWei.toString())\n  }\n\n  const { send: dist, state: unstakeTokensState22 } =\n    DistTokens(tokenAddress)\n    \n  const distributeTokens = () => {\n    const amountAsWei = utils.parseEther(Number(amount).toFixed(18).toString())\n    return dist(amountAsWei.toString())\n  }\n\n\n\n  const { send: doRedeemShares, state: unstakeTokensState234 } =\n    useStakeTokens3(tokenAddress)\n\n  const handleRedeem = () => {\n    return doRedeemShares(Number(amount2).toString())\n  }\n\n\n\n  const { send: doRedeemSharesNoApprove, state: unstakeTokensState2346 } =\n    RedeemNoApprove(tokenAddress)\n\n  const handleRedeem2 = () => {\n    return doRedeemSharesNoApprove(Number(amount2).toString())\n  }\n  \n  \n\n  const { send: doCashinSharesNoApprove, state: unstakeTokensState23456 } =\n  RedeemBuyNFTNoApprove(tokenAddress)\n\n  const handleCashinNoApprove = () => {\n    return doCashinSharesNoApprove()\n  }\n\n  const { send: doCashinShares, state: unstakeTokensState2345 } =\n    useStakeTokens4(tokenAddress)\n\n  const handleCashin = () => {\n    return doCashinShares(Number(amount).toString())\n  }\n\n  const [showUnstakeSuccess, setShowUnstakeSuccess] = useState(false)\n\n  const handleCloseSnack = () => {\n    showUnstakeSuccess && setShowUnstakeSuccess(false)\n  }\n\n  useEffect(() => {\n    if (\n      notifications.filter(\n        (notification) =>\n          notification.type === \"transactionSucceed\" &&\n          notification.transactionName === \"Unstake tokens\"\n      ).length > 0\n    ) {\n      !showUnstakeSuccess && setShowUnstakeSuccess(true)\n    }\n  }, [notifications, showUnstakeSuccess])\n\n  const isMining = unstakeTokensState.status === \"Mining\"\n  const isMining2 = unstakeTokensState2345.status === \"Mining\"\n  const isMining3 = unstakeTokensState23456.status === \"Mining\"\n  const isMining4 = unstakeTokensState2346.status === \"Mining\"\n  const isMining5 = unstakeTokensState234.status === \"Mining\"\n  const isMining6 = unstakeTokensState2.status === \"Mining\"\n\n  \nvar shares = SharesNeeded(amount.toString())\nvar sharesNeeded = 0\nif(shares !== nothing){\n  sharesNeeded = parseFloat(shares.toString())\n\n} \n\n\nvar alowz = AllowanceUser()\nvar allowance = 0\nif(alowz !== nothing){\n  allowance = parseFloat(alowz.toString())\n}\nvar endsAt = AuctionEnd(amount.toString())\nvar EndsAtt = 0\nvar noAuc = false\nif(endsAt!== nothing){\n  EndsAtt = parseFloat(endsAt.toString())\n}\n\nvar waitTilFinished\nif(secondsSinceEpoch < EndsAtt){\n  waitTilFinished =  <h1>Wait until Auction is over to claim a NFT</h1>  \n  noAuc = true\n}\nconst amountAsWei = utils.parseEther(Number(amount2).toFixed(0).toString())\n var test =  CurrentRedeem2(Number(amount2).toFixed(0).toString())\n var redeemamt = 0\n console.log(\"TEST,\", test)\n if(test !== nothing){\n   redeemamt = parseFloat(test.toString()) \n } \n var test2 = CurrentRedeem2(formattedBalance.toString())\n var redeemamtMax = 0\n if(test2 !== nothing){\n  redeemamtMax = parseFloat(test2.toString())\n } \n /*\n Test for max payouts total\n var test3 = CurrentRedeem2(\"320000\")\n\n var redeemamtMax2 = 0\n if(test3 !== nothing){\n  redeemamtMax2 = parseFloat(test3.toString()) / 10 ** 18\n }*/\n\n  const classes = useStyles()\n  if(tokenAddress == \"0x26C446e2B0d6295f22dE7c33452B583C12047463\"){\n    return (\n      <>\n     \n      <div className={classes.contentContainer}><h1>Once every 2 months you are able to distribute NFT Shares to the Forge Contract for distribution.</h1>\n<h1>{msgTime}</h1>\n\n<Button\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          onClick={distributeTokens}\n          disabled={!timeToDist }\n        >\n          {isMining || isMining6 ? <CircularProgress size={26} /> : `Distribute NFT Shares to Forge Contract`}\n        </Button>\n\n</div>\n      \n      \n      \n      </>\n    )\n  }\nif(tokenAddress == \"0xF44fB43066F7ECC91058E3A614Fb8A15A2735276\")\n\n{\n  var msgmsg = \"\"\n  if(parseFloat(yourPrice) > 0.0001){\n    msgmsg = \"Your current Voted Price to sell: \" +yourPrice + \" Forge\"\n}\n  return (\n    <>\n      <div className={classes.contentContainer}>\n\n        <BalanceMsg\n          label={`Your shares of Forge NFT`}\n          amount={formattedBalance}\n          tokenImgSrc={image}\n        /><br></br>\n       {msgmsg}<br></br>\n       Everyone total overall sell price: {actualPrice} Forge\n        <SliderInput\n        style={{width: \"350px\"}}\n          label={`Decide on price to sell NFTs for`}\n          minValue={actualPriceSlider/10 + 1/(10**18)}\n          maxValue={actualPriceSlider*10 - 1/(10**18)}\n          id={`slider-input-${name}`}\n            className={\"6\"}\n          value={amount}\n          onChange={setAmount}\n          disabled={isMining }\n        />\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"large\"\n          onClick={handleVotePrice}\n          disabled={isMining || isMining6}\n        >\n          {isMining || isMining6 ? <CircularProgress size={26} /> : `Vote on Price to sell NFT for`}\n        </Button>\n      </div>\n      <Snackbar\n        open={showUnstakeSuccess}\n        autoHideDuration={5000}\n        onClose={handleCloseSnack}\n      >\n        <Alert onClose={handleCloseSnack} severity=\"success\">\n          Successfully voted on new price\n        </Alert>\n      </Snackbar>\n    </>\n  )\n}else if(tokenAddress == \"0xFab46E002BbF0b4509813474841E0716E6730136\"){\n  var butText =\"Cash in \"+ amount +\" shares for \"+ (redeemamt / 10**18 * 2/3  ).toFixed(5) +\" Forge\"\n  var but = \"test\"\n  var but2 =  <Button\n  color=\"primary\"\n  variant=\"contained\"\n  size=\"large\"\n  onClick={handleRedeem}\n  disabled={isMining || isMining5}\n>\n  {isMining || isMining5 ? <CircularProgress size={26} /> : butText}\n  </Button>\n  if(allowance > amount){\n    but  = \"nohear2\"\n    but2 = <Button\n    color=\"primary\"\n    variant=\"contained\"\n    size=\"large\"\n    onClick={handleRedeem2}\n    disabled={isMining || isMining4}\n  >\n    {isMining || isMining4 ? <CircularProgress size={26} /> : butText}\n  </Button>\n  }\n  return(<>\n  <>\n      <div className={classes.contentContainer}>\n\n      \n        <BalanceMsg\n          label={`Your shares of Forge NFT`}\n          amount={formattedBalance}\n          tokenImgSrc={image}\n        /><br></br>\n       You can redeem your {formattedBalance} shares for: {(redeemamtMax / 10**18 * 2/3).toFixed(5)} Forge<br></br>\n       Wait until auction ends to recieve maximum\n        <SliderInput\n          label={`Decide on how many Forge NFT Fractionalized shares to cash in`}\n          maxValue={formattedBalance}\n          minValue={0}\n          id={`slider-input-${name}`}\n            className={\"6\"}\n          value={amount2}\n          onChange={setAmount2}\n          disabled={isMining }\n        />\n        Once you cash in, you can never claim again\n        {but2}\n\n      </div>\n      <Snackbar\n        open={showUnstakeSuccess}\n        autoHideDuration={5000}\n        onClose={handleCloseSnack}\n      >\n        <Alert onClose={handleCloseSnack} severity=\"success\">\n          Claimed Forge for your NFT shares.\n        </Alert>\n      </Snackbar>\n    </>\n  \n  \n  \n  </>)\n}else{\n  var butText = \"Click to trade \"+sharesNeeded+\" shares for NFT\"\n  var but3 = \"tes\"\n  var but4 = <Button\n  color=\"primary\"\n  variant=\"contained\"\n  size=\"large\"\n  onClick={handleCashin}\n  disabled={isMining || noAuc || isMining2}\n>\n  {isMining|| isMining2 ? <CircularProgress size={26} /> : butText}\n</Button>\n  if(allowance > sharesNeeded){\n    but3 = \"too\"\n    but4 = <Button\n    color=\"primary\"\n    variant=\"contained\"\n    size=\"large\"\n    onClick={handleCashinNoApprove}\n    disabled={isMining || noAuc || isMining3}\n  >\n    {isMining || isMining3 ? <CircularProgress size={26} /> : butText}\n  </Button>\n  }\n  return(<>\n  \n  <div className={classes.contentContainer}>\n\n<BalanceMsg\n  label={`Your shares of Forge NFT`}\n  amount={formattedBalance}\n  tokenImgSrc={image}\n/><br></br>\nYou can redeem your {formattedBalance} shares for {Math.floor((formattedBalance / sharesNeeded))} Forge NFTs<br></br>Each NFT costs {sharesNeeded} shares\n{waitTilFinished}\n{but4}\nAfter redeeming go to the top section \"Claim and Browse NFTs to select your NFT\"\n</div>\n<Snackbar\nopen={showUnstakeSuccess}\nautoHideDuration={5000}\nonClose={handleCloseSnack}\n>\n<Alert onClose={handleCloseSnack} severity=\"success\">\n  Successfully bought NFT, now go to Claim and Browse above and claim your NFT\n</Alert>\n</Snackbar>\n  \n  \n  \n  \n  \n  </>)\n}\n}\n"]},"metadata":{},"sourceType":"module"}