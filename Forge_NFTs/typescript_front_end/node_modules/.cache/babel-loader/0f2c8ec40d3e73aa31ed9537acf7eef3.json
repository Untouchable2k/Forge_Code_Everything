{"ast":null,"code":"import _slicedToArray from \"/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useContractCall, useEthers } from \"@usedapp/core\";\nimport TokenFarm from \"../chain-info/DaughterContract.json\";\nimport { utils, constants } from \"ethers\";\nimport brownieConfig from \"../brownie-config-json.json\";\nimport helperConfig from \"../helper-config.json\";\n/**\n * Get the staking balance of a certain token by the user in our TokenFarm contract\n * @param address - The contract address of the token\n */\n\nexport var CurrentVotePrice2 = function CurrentVotePrice2(address) {\n  _s();\n\n  var _useContractCall, _useContractCall2;\n\n  var _useEthers = useEthers(),\n      account = _useEthers.account,\n      chainId = _useEthers.chainId;\n\n  var abi = TokenFarm.abi;\n  var networkName = chainId ? helperConfig[chainId] : \"ganache\";\n  var NFTAddy = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero;\n  var tokenFarmInterface = new utils.Interface(abi);\n\n  var _ref = (_useContractCall = useContractCall({\n    abi: tokenFarmInterface,\n    address: NFTAddy,\n    method: \"votesTotal\",\n    args: []\n  })) !== null && _useContractCall !== void 0 ? _useContractCall : [],\n      _ref2 = _slicedToArray(_ref, 1),\n      stakingBalance = _ref2[0];\n\n  console.log(\"f\", stakingBalance);\n\n  var _ref3 = (_useContractCall2 = useContractCall({\n    abi: tokenFarmInterface,\n    address: NFTAddy,\n    method: \"votesTotalAmt\",\n    args: []\n  })) !== null && _useContractCall2 !== void 0 ? _useContractCall2 : [],\n      _ref4 = _slicedToArray(_ref3, 1),\n      stakingBalance2 = _ref4[0];\n\n  var nothing;\n  var f = 0;\n\n  if (stakingBalance2 !== nothing && stakingBalance !== nothing) {\n    f = stakingBalance2 / stakingBalance;\n  }\n\n  return f;\n};\n\n_s(CurrentVotePrice2, \"Q+XbW8VFcMMYmTphYPgKAFn5dgw=\", false, function () {\n  return [useEthers, useContractCall, useContractCall];\n});\n\n_c = CurrentVotePrice2;\n\nvar _c;\n\n$RefreshReg$(_c, \"CurrentVotePrice2\");","map":{"version":3,"sources":["/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/src/hooks/currentVotePrice2.ts"],"names":["useContractCall","useEthers","TokenFarm","utils","constants","brownieConfig","helperConfig","CurrentVotePrice2","address","account","chainId","abi","networkName","NFTAddy","AddressZero","tokenFarmInterface","Interface","method","args","stakingBalance","console","log","stakingBalance2","nothing","f"],"mappings":";;;;AAAA,SAASA,eAAT,EAA0BC,SAA1B,QAA2C,eAA3C;AACA,OAAOC,SAAP,MAAsB,qCAAtB;AACA,SAASC,KAAT,EAA2BC,SAA3B,QAA4C,QAA5C;AAGA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AAEA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD,EAAyC;AAAA;;AAAA;;AACxE,mBAA6BP,SAAS,EAAtC;AAAA,MAAQQ,OAAR,cAAQA,OAAR;AAAA,MAAiBC,OAAjB,cAAiBA,OAAjB;;AAEA,MAAQC,GAAR,GAAgBT,SAAhB,CAAQS,GAAR;AACA,MAAMC,WAAW,GAAGF,OAAO,GAAGJ,YAAY,CAACI,OAAD,CAAf,GAA2B,SAAtD;AACA,MAAMG,OAAO,GAAGH,OAAO,GAAGL,aAAa,CAAC,UAAD,CAAb,CAA0BO,WAA1B,EAAuC,SAAvC,CAAH,GAAuDR,SAAS,CAACU,WAAxF;AAEA,MAAMC,kBAAkB,GAAG,IAAIZ,KAAK,CAACa,SAAV,CAAoBL,GAApB,CAA3B;;AACA,iCACEX,eAAe,CAAC;AACdW,IAAAA,GAAG,EAAEI,kBADS;AAEdP,IAAAA,OAAO,EAAEK,OAFK;AAGdI,IAAAA,MAAM,EAAE,YAHM;AAIdC,IAAAA,IAAI,EAAE;AAJQ,GAAD,CADjB,+DAMQ,EANR;AAAA;AAAA,MAAOC,cAAP;;AAQEC,EAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBF,cAAjB;;AACA,mCACAnB,eAAe,CAAC;AACdW,IAAAA,GAAG,EAAEI,kBADS;AAEdP,IAAAA,OAAO,EAAEK,OAFK;AAGdI,IAAAA,MAAM,EAAE,eAHM;AAIdC,IAAAA,IAAI,EAAE;AAJQ,GAAD,CADf,iEAMM,EANN;AAAA;AAAA,MAAOI,eAAP;;AAOJ,MAAIC,OAAJ;AACE,MAAIC,CAAC,GAAG,CAAR;;AACF,MAAGF,eAAe,KAAKC,OAApB,IAA+BJ,cAAc,KAAKI,OAArD,EACA;AACEC,IAAAA,CAAC,GAAGF,eAAe,GAAGH,cAAtB;AACD;;AACC,SAAOK,CAAP;AACD,CA/BM;;GAAMjB,iB;UACkBN,S,EAQ3BD,e,EASAA,e;;;KAlBSO,iB","sourcesContent":["import { useContractCall, useEthers } from \"@usedapp/core\"\nimport TokenFarm from \"../chain-info/DaughterContract.json\"\nimport { utils, BigNumber, constants } from \"ethers\"\n\nimport networkMapping from \"../chain-info/map.json\"\nimport brownieConfig from \"../brownie-config-json.json\"\nimport helperConfig from \"../helper-config.json\"\n\n/**\n * Get the staking balance of a certain token by the user in our TokenFarm contract\n * @param address - The contract address of the token\n */\nexport const CurrentVotePrice2 = (address: string): number | undefined => {\n  const { account, chainId } = useEthers()\n\n  const { abi } = TokenFarm\n  const networkName = chainId ? helperConfig[chainId] : \"ganache\"\n  const NFTAddy = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero\n  \n  const tokenFarmInterface = new utils.Interface(abi)\n  const [stakingBalance] =\n    useContractCall({\n      abi: tokenFarmInterface,\n      address: NFTAddy,\n      method: \"votesTotal\",\n      args: [],\n    }) ?? []\n\n    console.log(\"f\", stakingBalance )\n    const [stakingBalance2] =\n    useContractCall({\n      abi: tokenFarmInterface,\n      address: NFTAddy,\n      method: \"votesTotalAmt\",\n      args: [],\n    }) ?? []\nlet nothing\n  var f = 0    \nif(stakingBalance2 !== nothing && stakingBalance !== nothing)\n{\n  f = stakingBalance2 / stakingBalance\n}\n  return f\n}\n"]},"metadata":{},"sourceType":"module"}