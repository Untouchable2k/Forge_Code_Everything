{"ast":null,"code":"import _slicedToArray from\"/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useContractFunction,useEthers}from\"@usedapp/core\";import{utils,constants}from\"ethers\";import{Contract}from\"@ethersproject/contracts\";import LPFarm from\"../chain-info/DaughterContract.json\";import brownieConfig from\"../brownie-config-json.json\";import helperConfig from\"../helper-config.json\";/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */export var ClaimNFT=function ClaimNFT(tokenAddress){var _useEthers=useEthers(),chainId=_useEthers.chainId;var networkName=chainId?helperConfig[chainId]:\"ganache\";var NFTBOOK=chainId?brownieConfig[\"networks\"][networkName][\"NFTBOOK\"]:constants.AddressZero;//MEME ACTUAL USING LP Contracts  \nvar rewardABI=LPFarm.abi;var LPFarmInterface=new utils.Interface(rewardABI);var LPRewardsContract=new Contract(NFTBOOK,LPFarmInterface);var _useState=useState(\"0\"),_useState2=_slicedToArray(_useState,2),amountToStake=_useState2[0],setAmountToStake=_useState2[1];var _useContractFunction=useContractFunction(LPRewardsContract,\"send_NFTs_To_winner\",{transactionName:\"Stake tokens\"}),approveErc20Send=_useContractFunction.send,unstakeTokensState22v3=_useContractFunction.state;var send=function send(amount){setAmountToStake(amount);console.log(\"AMT\",amount);return approveErc20Send(amount,\"14\");};var _useState3=useState(unstakeTokensState22v3),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];useEffect(function(){setState(unstakeTokensState22v3);},[unstakeTokensState22v3]);return{send:send,state:state};};","map":{"version":3,"sources":["/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/src/hooks/claimNFT.ts"],"names":["useEffect","useState","useContractFunction","useEthers","utils","constants","Contract","LPFarm","brownieConfig","helperConfig","ClaimNFT","tokenAddress","chainId","networkName","NFTBOOK","AddressZero","rewardABI","abi","LPFarmInterface","Interface","LPRewardsContract","amountToStake","setAmountToStake","transactionName","approveErc20Send","send","unstakeTokensState22v3","state","amount","console","log","setState"],"mappings":"uMAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,mBAAT,CAA8BC,SAA9B,KAA+C,eAA/C,CACA,OAASC,KAAT,CAAgBC,SAAhB,KAAiC,QAAjC,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qCAAnB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CAEA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,YAAD,CAA0B,CAChD,eAAoBR,SAAS,EAA7B,CAAQS,OAAR,YAAQA,OAAR,CAEA,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAAGH,YAAY,CAACG,OAAD,CAAf,CAA2B,SAAtD,CACA,GAAME,CAAAA,OAAO,CAAGF,OAAO,CAAGJ,aAAa,CAAC,UAAD,CAAb,CAA0BK,WAA1B,EAAuC,SAAvC,CAAH,CAAuDR,SAAS,CAACU,WAAxF,CAEA;AACA,GAAMC,CAAAA,SAAS,CAAGT,MAAM,CAACU,GAAzB,CACA,GAAMC,CAAAA,eAAe,CAAG,GAAId,CAAAA,KAAK,CAACe,SAAV,CAAoBH,SAApB,CAAxB,CACA,GAAMI,CAAAA,iBAAiB,CAAG,GAAId,CAAAA,QAAJ,CACxBQ,OADwB,CACfI,eADe,CAA1B,CAIF,cAA0CjB,QAAQ,CAAC,GAAD,CAAlD,wCAAOoB,aAAP,eAAsBC,gBAAtB,eAEA,yBACApB,mBAAmB,CAACkB,iBAAD,CAAoB,qBAApB,CAA2C,CAC5DG,eAAe,CAAE,cAD2C,CAA3C,CADnB,CAAcC,gBAAd,sBAAQC,IAAR,CAAuCC,sBAAvC,sBAAgCC,KAAhC,CAKA,GAAMF,CAAAA,IAAI,CAAI,QAARA,CAAAA,IAAQ,CAACG,MAAD,CAAoB,CAChCN,gBAAgB,CAACM,MAAD,CAAhB,CACAC,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBF,MAAnB,EACA,MAAOJ,CAAAA,gBAAgB,CAACI,MAAD,CAAS,IAAT,CAAvB,CACD,CAJD,CAKA,eAA0B3B,QAAQ,CAACyB,sBAAD,CAAlC,yCAAOC,KAAP,eAAcI,QAAd,eAEA/B,SAAS,CAAC,UAAM,CACZ+B,QAAQ,CAACL,sBAAD,CAAR,CAEH,CAHQ,CAGN,CAACA,sBAAD,CAHM,CAAT,CAIA,MAAO,CAAED,IAAI,CAAJA,IAAF,CAAQE,KAAK,CAALA,KAAR,CAAP,CACC,CAhCM","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useContractFunction, useEthers } from \"@usedapp/core\"\nimport { utils, constants } from \"ethers\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport LPFarm from \"../chain-info/DaughterContract.json\"\n\nimport brownieConfig from \"../brownie-config-json.json\"\n\nimport helperConfig from \"../helper-config.json\"\n/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */\nexport const ClaimNFT = (tokenAddress: string) => {\n  const { chainId } = useEthers()\n\n  const networkName = chainId ? helperConfig[chainId] : \"ganache\"\n  const NFTBOOK = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero\n\n  //MEME ACTUAL USING LP Contracts  \n  const rewardABI = LPFarm.abi\n  const LPFarmInterface = new utils.Interface(rewardABI)\n  const LPRewardsContract = new Contract(\n    NFTBOOK, LPFarmInterface\n  )  \n\nconst [amountToStake, setAmountToStake] = useState(\"0\")\n\nconst { send: approveErc20Send, state: unstakeTokensState22v3 } =\nuseContractFunction(LPRewardsContract, \"send_NFTs_To_winner\", {\n  transactionName: \"Stake tokens\",\n})\n\nconst send =  (amount: string) => {\n  setAmountToStake(amount)\n  console.log(\"AMT\", amount)\n  return approveErc20Send(amount, \"14\")\n}\nconst [state, setState] = useState(unstakeTokensState22v3)\n\nuseEffect(() => {\n    setState(unstakeTokensState22v3)\n\n}, [unstakeTokensState22v3])\nreturn { send, state }\n}"]},"metadata":{},"sourceType":"module"}