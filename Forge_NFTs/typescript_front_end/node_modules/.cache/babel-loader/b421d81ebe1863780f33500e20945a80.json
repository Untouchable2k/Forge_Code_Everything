{"ast":null,"code":"import _slicedToArray from\"/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useContractFunction,useEthers}from\"@usedapp/core\";import{utils,constants}from\"ethers\";import{Contract}from\"@ethersproject/contracts\";import LPFarm from\"../chain-info/DaughterContract.json\";import brownieConfig from\"../brownie-config-json.json\";import helperConfig from\"../helper-config.json\";/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */export var BidNoApprove=function BidNoApprove(tokenAddress){var _useEthers=useEthers(),account=_useEthers.account,chainId=_useEthers.chainId;var networkName=chainId?helperConfig[chainId]:\"ganache\";var NFTBOOK=chainId?brownieConfig[\"networks\"][networkName][\"NFTBOOK\"]:constants.AddressZero;//MEME ACTUAL USING LP Contracts  \nvar rewardABI=LPFarm.abi;var LPFarmInterface=new utils.Interface(rewardABI);var LPRewardsContract=new Contract(NFTBOOK,LPFarmInterface);console.log(\"L232323{PF\",LPFarmInterface);var _useState=useState(\"0\"),_useState2=_slicedToArray(_useState,2),amountToStake=_useState2[0],setAmountToStake=_useState2[1];var _useContractFunction=useContractFunction(LPRewardsContract,\"startBuyoutAuctionERC20\",{transactionName:\"Stake tokens\"}),approveErc20Send=_useContractFunction.send,unstakeTokensState22v3=_useContractFunction.state;var send=function send(amount){setAmountToStake(amount);console.log(\"F333\",amount);return approveErc20Send(account,amount);};var _useState3=useState(unstakeTokensState22v3),_useState4=_slicedToArray(_useState3,2),state=_useState4[0],setState=_useState4[1];useEffect(function(){setState(unstakeTokensState22v3);},[unstakeTokensState22v3]);return{send:send,state:state};};","map":{"version":3,"sources":["/home/forgeserver/Desktop/Forge-NFT-dAPP/defi-stake-yield-brownie-main/front_end/src/hooks/bidNoApprove.ts"],"names":["useEffect","useState","useContractFunction","useEthers","utils","constants","Contract","LPFarm","brownieConfig","helperConfig","BidNoApprove","tokenAddress","account","chainId","networkName","NFTBOOK","AddressZero","rewardABI","abi","LPFarmInterface","Interface","LPRewardsContract","console","log","amountToStake","setAmountToStake","transactionName","approveErc20Send","send","unstakeTokensState22v3","state","amount","setState"],"mappings":"uMAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,mBAAT,CAA8BC,SAA9B,KAA+C,eAA/C,CACA,OAASC,KAAT,CAAgBC,SAAhB,KAAiC,QAAjC,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qCAAnB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CAEA,MAAOC,CAAAA,YAAP,KAAyB,uBAAzB,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,YAAD,CAA0B,CACpD,eAA6BR,SAAS,EAAtC,CAAQS,OAAR,YAAQA,OAAR,CAAiBC,OAAjB,YAAiBA,OAAjB,CAEA,GAAMC,CAAAA,WAAW,CAAGD,OAAO,CAAGJ,YAAY,CAACI,OAAD,CAAf,CAA2B,SAAtD,CACA,GAAME,CAAAA,OAAO,CAAGF,OAAO,CAAGL,aAAa,CAAC,UAAD,CAAb,CAA0BM,WAA1B,EAAuC,SAAvC,CAAH,CAAuDT,SAAS,CAACW,WAAxF,CAEA;AACA,GAAMC,CAAAA,SAAS,CAAGV,MAAM,CAACW,GAAzB,CACA,GAAMC,CAAAA,eAAe,CAAG,GAAIf,CAAAA,KAAK,CAACgB,SAAV,CAAoBH,SAApB,CAAxB,CACA,GAAMI,CAAAA,iBAAiB,CAAG,GAAIf,CAAAA,QAAJ,CACxBS,OADwB,CACfI,eADe,CAA1B,CAGAG,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BJ,eAA1B,EACF,cAA0ClB,QAAQ,CAAC,GAAD,CAAlD,wCAAOuB,aAAP,eAAsBC,gBAAtB,eAEA,yBACAvB,mBAAmB,CAACmB,iBAAD,CAAoB,yBAApB,CAA+C,CAChEK,eAAe,CAAE,cAD+C,CAA/C,CADnB,CAAcC,gBAAd,sBAAQC,IAAR,CAAuCC,sBAAvC,sBAAgCC,KAAhC,CAKA,GAAMF,CAAAA,IAAI,CAAI,QAARA,CAAAA,IAAQ,CAACG,MAAD,CAAoB,CAChCN,gBAAgB,CAACM,MAAD,CAAhB,CACAT,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBQ,MAApB,EACA,MAAOJ,CAAAA,gBAAgB,CAACf,OAAD,CAAUmB,MAAV,CAAvB,CACD,CAJD,CAKA,eAA0B9B,QAAQ,CAAC4B,sBAAD,CAAlC,yCAAOC,KAAP,eAAcE,QAAd,eAEAhC,SAAS,CAAC,UAAM,CACZgC,QAAQ,CAACH,sBAAD,CAAR,CAEH,CAHQ,CAGN,CAACA,sBAAD,CAHM,CAAT,CAIA,MAAO,CAAED,IAAI,CAAJA,IAAF,CAAQE,KAAK,CAALA,KAAR,CAAP,CACC,CAhCM","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useContractFunction, useEthers } from \"@usedapp/core\"\nimport { utils, constants } from \"ethers\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport LPFarm from \"../chain-info/DaughterContract.json\"\n\nimport brownieConfig from \"../brownie-config-json.json\"\n\nimport helperConfig from \"../helper-config.json\"\n/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */\nexport const BidNoApprove = (tokenAddress: string) => {\n  const { account, chainId } = useEthers()\n\n  const networkName = chainId ? helperConfig[chainId] : \"ganache\"\n  const NFTBOOK = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero\n\n  //MEME ACTUAL USING LP Contracts  \n  const rewardABI = LPFarm.abi\n  const LPFarmInterface = new utils.Interface(rewardABI)\n  const LPRewardsContract = new Contract(\n    NFTBOOK, LPFarmInterface\n  )  \n  console.log(\"L232323{PF\", LPFarmInterface)\nconst [amountToStake, setAmountToStake] = useState(\"0\")\n\nconst { send: approveErc20Send, state: unstakeTokensState22v3 } =\nuseContractFunction(LPRewardsContract, \"startBuyoutAuctionERC20\", {\n  transactionName: \"Stake tokens\",\n})\n\nconst send =  (amount: string) => {\n  setAmountToStake(amount)\n  console.log(\"F333\", amount)\n  return approveErc20Send(account, amount)\n}\nconst [state, setState] = useState(unstakeTokensState22v3)\n\nuseEffect(() => {\n    setState(unstakeTokensState22v3)\n\n}, [unstakeTokensState22v3])\nreturn { send, state }\n}"]},"metadata":{},"sourceType":"module"}