{"ast":null,"code":"import _slicedToArray from \"/home/forgeserver/Desktop/MainNet-Forge-NFT/defi-stake-yield-brownie-main/front_end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useContractFunction, useEthers } from \"@usedapp/core\";\nimport { utils, constants } from \"ethers\";\nimport { Contract } from \"@ethersproject/contracts\";\nimport LPFarm from \"../chain-info/DaughterContract.json\";\nimport brownieConfig from \"../brownie-config-json.json\";\nimport helperConfig from \"../helper-config.json\";\n/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */\n\nexport var ClaimNFT = function ClaimNFT(tokenAddress) {\n  _s();\n\n  var _useEthers = useEthers(),\n      chainId = _useEthers.chainId;\n\n  var networkName = chainId ? helperConfig[chainId] : \"ganache\";\n  var NFTBOOK = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero; //MEME ACTUAL USING LP Contracts  \n\n  var rewardABI = LPFarm.abi;\n  var LPFarmInterface = new utils.Interface(rewardABI);\n  var LPRewardsContract = new Contract(NFTBOOK, LPFarmInterface);\n\n  var _useState = useState(\"0\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      amountToStake = _useState2[0],\n      setAmountToStake = _useState2[1];\n\n  var _useContractFunction = useContractFunction(LPRewardsContract, \"send_NFTs_To_winner\", {\n    transactionName: \"Stake tokens\"\n  }),\n      approveErc20Send = _useContractFunction.send,\n      unstakeTokensState22v3 = _useContractFunction.state;\n\n  var send = function send(amount, nftNum) {\n    setAmountToStake(amount);\n    return approveErc20Send(amount, nftNum);\n  };\n\n  var _useState3 = useState(unstakeTokensState22v3),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  useEffect(function () {\n    setState(unstakeTokensState22v3);\n  }, [unstakeTokensState22v3]);\n  return {\n    send: send,\n    state: state\n  };\n};\n\n_s(ClaimNFT, \"CwUdx35eOOEmeb3dA6mHyGg7EjQ=\", false, function () {\n  return [useEthers, useContractFunction];\n});\n\n_c = ClaimNFT;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClaimNFT\");","map":{"version":3,"sources":["/home/forgeserver/Desktop/MainNet-Forge-NFT/defi-stake-yield-brownie-main/front_end/src/hooks/claimNFT.ts"],"names":["useEffect","useState","useContractFunction","useEthers","utils","constants","Contract","LPFarm","brownieConfig","helperConfig","ClaimNFT","tokenAddress","chainId","networkName","NFTBOOK","AddressZero","rewardABI","abi","LPFarmInterface","Interface","LPRewardsContract","amountToStake","setAmountToStake","transactionName","approveErc20Send","send","unstakeTokensState22v3","state","amount","nftNum","setState"],"mappings":";;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,mBAAT,EAA8BC,SAA9B,QAA+C,eAA/C;AACA,SAASC,KAAT,EAAgBC,SAAhB,QAAiC,QAAjC;AACA,SAASC,QAAT,QAAyB,0BAAzB;AACA,OAAOC,MAAP,MAAmB,qCAAnB;AAEA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,OAAOC,YAAP,MAAyB,uBAAzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,YAAD,EAA0B;AAAA;;AAChD,mBAAoBR,SAAS,EAA7B;AAAA,MAAQS,OAAR,cAAQA,OAAR;;AACA,MAAMC,WAAW,GAAGD,OAAO,GAAGH,YAAY,CAACG,OAAD,CAAf,GAA2B,SAAtD;AACA,MAAME,OAAO,GAAGF,OAAO,GAAGJ,aAAa,CAAC,UAAD,CAAb,CAA0BK,WAA1B,EAAuC,SAAvC,CAAH,GAAuDR,SAAS,CAACU,WAAxF,CAHgD,CAKhD;;AACA,MAAMC,SAAS,GAAGT,MAAM,CAACU,GAAzB;AACA,MAAMC,eAAe,GAAG,IAAId,KAAK,CAACe,SAAV,CAAoBH,SAApB,CAAxB;AACA,MAAMI,iBAAiB,GAAG,IAAId,QAAJ,CACxBQ,OADwB,EACfI,eADe,CAA1B;;AAIF,kBAA0CjB,QAAQ,CAAC,GAAD,CAAlD;AAAA;AAAA,MAAOoB,aAAP;AAAA,MAAsBC,gBAAtB;;AAEA,6BACApB,mBAAmB,CAACkB,iBAAD,EAAoB,qBAApB,EAA2C;AAC5DG,IAAAA,eAAe,EAAE;AAD2C,GAA3C,CADnB;AAAA,MAAcC,gBAAd,wBAAQC,IAAR;AAAA,MAAuCC,sBAAvC,wBAAgCC,KAAhC;;AAKA,MAAMF,IAAI,GAAI,SAARA,IAAQ,CAACG,MAAD,EAAiBC,MAAjB,EAAoC;AAChDP,IAAAA,gBAAgB,CAACM,MAAD,CAAhB;AACA,WAAOJ,gBAAgB,CAACI,MAAD,EAASC,MAAT,CAAvB;AACD,GAHD;;AAIA,mBAA0B5B,QAAQ,CAACyB,sBAAD,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcG,QAAd;;AAEA9B,EAAAA,SAAS,CAAC,YAAM;AACZ8B,IAAAA,QAAQ,CAACJ,sBAAD,CAAR;AAEH,GAHQ,EAGN,CAACA,sBAAD,CAHM,CAAT;AAIA,SAAO;AAAED,IAAAA,IAAI,EAAJA,IAAF;AAAQE,IAAAA,KAAK,EAALA;AAAR,GAAP;AACC,CA9BM;;GAAMjB,Q;UACSP,S,EActBD,mB;;;KAfaQ,Q","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useContractFunction, useEthers } from \"@usedapp/core\"\nimport { utils, constants } from \"ethers\"\nimport { Contract } from \"@ethersproject/contracts\"\nimport LPFarm from \"../chain-info/DaughterContract.json\"\n\nimport brownieConfig from \"../brownie-config-json.json\"\n\nimport helperConfig from \"../helper-config.json\"\n/**\n * This hook is a bit messy but exposes a 'send' which makes two transactions.\n * The first transaction is to approve the ERC-20 token transfer on the token's contract.\n * Upon successful approval, a second transaction is initiated to execute the transfer by the TokenFarm contract.\n * The 'state' returned by this hook is the state of the first transaction until that has status \"Succeeded\".\n * After that it is the state of the second transaction.\n * @param tokenAddress - The token address of the token we wish to stake\n */\nexport const ClaimNFT = (tokenAddress: string) => {\n  const { chainId } = useEthers()\n  const networkName = chainId ? helperConfig[chainId] : \"ganache\"\n  const NFTBOOK = chainId ? brownieConfig[\"networks\"][networkName][\"NFTBOOK\"] : constants.AddressZero\n\n  //MEME ACTUAL USING LP Contracts  \n  const rewardABI = LPFarm.abi\n  const LPFarmInterface = new utils.Interface(rewardABI)\n  const LPRewardsContract = new Contract(\n    NFTBOOK, LPFarmInterface\n  )  \n\nconst [amountToStake, setAmountToStake] = useState(\"0\")\n\nconst { send: approveErc20Send, state: unstakeTokensState22v3 } =\nuseContractFunction(LPRewardsContract, \"send_NFTs_To_winner\", {\n  transactionName: \"Stake tokens\",\n})\n\nconst send =  (amount: string, nftNum: string) => {\n  setAmountToStake(amount)\n  return approveErc20Send(amount, nftNum)\n}\nconst [state, setState] = useState(unstakeTokensState22v3)\n\nuseEffect(() => {\n    setState(unstakeTokensState22v3)\n\n}, [unstakeTokensState22v3])\nreturn { send, state }\n}"]},"metadata":{},"sourceType":"module"}